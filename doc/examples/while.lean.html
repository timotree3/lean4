<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while.lean</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Lean4 v4.0.0-unknown. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.<br>Hover-Settings: Show types:<input id="toggleswitch" type="checkbox" onClick="toggleShowTypes(this);"> Show goals:<input id="toggleswitch" type="checkbox" onClick="toggleShowGoals(this);" checked><br></div><div class="document">


<pre class="alectryon-io type-info-hidden highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><div class="alectryon-token"><span class="k">abbrev</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>String</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>String</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>int</var><b>: </b><span>Int ‚Üí _root_.Val</span></span></div></blockquote></div></small></div>int</div><div class="alectryon-token">  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Int</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Int</div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bool</var><b>: </b><span>Bool ‚Üí _root_.Val</span></span></div></blockquote></div></small></div>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bool</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Bool</div><div class="alectryon-token">)
  </div><div class="alectryon-token"><span class="k">deriving</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>DecidableEq</var><b>: </b><span>Sort u ‚Üí Sort (max 1 u)</span></span></div></blockquote></div></small></div>DecidableEq</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type u ‚Üí Type u</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>Coe Bool Val</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Coe</var><b>: </b><span>Type ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>Coe</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bool</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  coe </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>Coe Int Val</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Coe</var><b>: </b><span>Type ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>Coe</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Int</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  coe </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>{n : Nat} ‚Üí OfNat Val n</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>OfNat</var><b>: </b><span>Type ‚Üí Nat ‚Üí Type</span></span></div></blockquote></div></small></div>OfNat</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  ofNat := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token">

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk0"><div class="alectryon-token"><span class="k">#check</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Val.bool true : Val</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">)

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1"><div class="alectryon-token"><span class="k">#check</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="mi">0</span> : Val</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="mi">0</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>BinOp</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eq</var><b>: </b><span>_root_.BinOp</span></span></div></blockquote></div></small></div>eq</div><div class="alectryon-token"> <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>and</var><b>: </b><span>_root_.BinOp</span></span></div></blockquote></div></small></div>and</div><div class="alectryon-token"> <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lt</var><b>: </b><span>_root_.BinOp</span></span></div></blockquote></div></small></div>lt</div><div class="alectryon-token"> <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>add</var><b>: </b><span>_root_.BinOp</span></span></div></blockquote></div></small></div>add</div><div class="alectryon-token"> <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sub</var><b>: </b><span>_root_.BinOp</span></span></div></blockquote></div></small></div>sub</div><div class="alectryon-token">
  </div><div class="alectryon-token"><span class="k">deriving</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type u ‚Üí Type u</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>UnaryOp</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>not</var><b>: </b><span>_root_.UnaryOp</span></span></div></blockquote></div></small></div>not</div><div class="alectryon-token">
  </div><div class="alectryon-token"><span class="k">deriving</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type u ‚Üí Type u</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>val</var><b>: </b><span>Val ‚Üí _root_.Expr</span></span></div></blockquote></div></small></div>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span>Var ‚Üí _root_.Expr</span></span></div></blockquote></div></small></div>var</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bin</var><b>: </b><span>_root_.Expr ‚Üí BinOp ‚Üí _root_.Expr ‚Üí _root_.Expr</span></span></div></blockquote></div></small></div>bin</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>BinOp</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>una</var><b>: </b><span>UnaryOp ‚Üí _root_.Expr ‚Üí _root_.Expr</span></span></div></blockquote></div></small></div>una</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>UnaryOp</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></div><div class="alectryon-token">)
  </div><div class="alectryon-token"><span class="k">deriving</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type u ‚Üí Type u</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>Coe Val Expr</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Coe</var><b>: </b><span>Type ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>Coe</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  coe </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>Coe Var Expr</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Coe</var><b>: </b><span>Type ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>Coe</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  coe </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.var</var><b>: </b><span>Var ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>var</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>{n : Nat} ‚Üí OfNat Expr n</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>OfNat</var><b>: </b><span>Type ‚Üí Nat ‚Üí Type</span></span></div></blockquote></div></small></div>OfNat</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  ofNat := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp.eval</var><b>: </b><span>BinOp ‚Üí Val ‚Üí Val ‚Üí Option Val</span></span></div></blockquote></div></small></div>BinOp.eval</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>BinOp</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Option</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>Option</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.eq</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>eq</div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token">,        </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token">      <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.and</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>and</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b‚ÇÅ</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b‚ÇÇ</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b‚ÇÅ</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">&amp;&amp;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b‚ÇÇ</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.lt</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>lt</div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.add</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>add</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.sub</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>sub</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÅ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">-</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i‚ÇÇ</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">i‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">,    </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">,        </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">        <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp.eval</var><b>: </b><span>UnaryOp ‚Üí Val ‚Üí Option Val</span></span></div></blockquote></div></small></div>UnaryOp.eval</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>UnaryOp</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Option</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>Option</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.not</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>not</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> <span class="bp">!</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">,    </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">       <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>_root_.Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí _root_.Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token">   (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>_root_.Stmt ‚Üí _root_.Stmt ‚Üí _root_.Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token">      (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Stmt</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí _root_.Stmt ‚Üí _root_.Stmt ‚Üí _root_.Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token">      (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Stmt</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí _root_.Stmt ‚Üí _root_.Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token">  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Sort _tmp_ind_univ_param</span></span></div></blockquote></div></small></div><span class="nv">Stmt</span></div><div class="alectryon-token">)
  </div><div class="alectryon-token"><span class="k">deriving</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type u ‚Üí Type u</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">infix</span></div><div class="alectryon-token">:<span class="mi">150</span> <span class="s2">&quot; ::= &quot;</span> <span class="bp">=&gt;</span> Stmt.assign
</div><div class="alectryon-token"><span class="kd">infixr</span></div><div class="alectryon-token">:<span class="mi">130</span> <span class="s2">&quot;;; &quot;</span>   <span class="bp">=&gt;</span> Stmt.seq

</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> <span class="s2">&quot;`[Expr|&quot;</span> term <span class="s2">&quot;]&quot;</span> : term

</div><div class="alectryon-token"><span class="k">macro_rules</span></div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|</span>true])      <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>`((true : Expr))</var><b>: </b><span>Lean.MacroM Lean.Syntax</span></span></div></blockquote></div></small></div><span class="bp">`</span>((true : Expr))</div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|</span>false])     <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>`((false : Expr))</var><b>: </b><span>Lean.MacroM Lean.Syntax</span></span></div></blockquote></div></small></div><span class="bp">`</span>((false : Expr))</div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token">:numLit]) <span class="bp">=&gt;</span> <span class="bp">`</span>((<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token"> : Expr))
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">:ident])  <span class="bp">=&gt;</span> <span class="bp">`</span>((<span class="bp">$</span>(</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Lean.quote</var><b>: </b><span>{Œ± : Type} ‚Üí [self : Lean.Quote Œ±] ‚Üí Œ± ‚Üí Lean.Syntax</span></span></div></blockquote></div></small></div><span class="k">Lean.quote</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>getId</var><b>: </b><span>Lean.Syntax ‚Üí Lean.Name</span></span></div></blockquote></div></small></div><span class="k">getId</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toString</var><b>: </b><span>Lean.Name ‚Üí optParam Bool true ‚Üí String</span></span></div></blockquote></div></small></div><span class="k">toString</span></div><div class="alectryon-token">) : Expr))
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])   <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.bin <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">] BinOp.eq <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">&amp;&amp;</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])  <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.bin <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">] BinOp.and <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])   <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.bin <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">] BinOp.lt <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">+</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])   <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.bin <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">] BinOp.add <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">-</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])   <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.bin <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">] BinOp.sub <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|!$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">])       <span class="bp">=&gt;</span> <span class="bp">`</span>(Expr.una UnaryOp.not <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|</span>(<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)])      <span class="bp">=&gt;</span> <span class="bp">`</span>(<span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">])</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="k">declare_syntax_cat</span></div><div class="alectryon-token"> stmt

</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> ident <span class="s2">&quot; := &quot;</span> term <span class="s2">&quot;;&quot;</span>: stmt
</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> <span class="s2">&quot;if &quot;</span> <span class="s2">&quot;(&quot;</span> term <span class="s2">&quot;)&quot;</span> <span class="s2">&quot; {</span><span class="se">\n</span><span class="s2">&quot;</span> stmt<span class="bp">*</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">}&quot;</span> (<span class="s2">&quot; else &quot;</span> <span class="s2">&quot;{</span><span class="se">\n</span><span class="s2">&quot;</span> stmt<span class="bp">*</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">}&quot;</span>)<span class="bp">?</span> : stmt
</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> <span class="s2">&quot;while &quot;</span> <span class="s2">&quot;(&quot;</span> term <span class="s2">&quot;)&quot;</span> <span class="s2">&quot;{</span><span class="se">\n</span><span class="s2">&quot;</span> stmt<span class="bp">*</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">}&quot;</span> : stmt

</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> <span class="s2">&quot;`[Stmt|&quot;</span> stmt<span class="bp">*</span> <span class="s2">&quot;]&quot;</span> : term

</div><div class="alectryon-token"><span class="k">macro_rules</span></div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> ]) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>`(Stmt.skip)</var><b>: </b><span>Lean.MacroM Lean.Syntax</span></span></div></blockquote></div></small></div><span class="bp">`</span>(Stmt.skip)</div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">:ident := <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">:term<span class="bp">;</span>]) <span class="bp">=&gt;</span> <span class="bp">`</span>(Stmt.assign <span class="bp">$</span>(</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Lean.quote</var><b>: </b><span>{Œ± : Type} ‚Üí [self : Lean.Quote Œ±] ‚Üí Œ± ‚Üí Lean.Syntax</span></span></div></blockquote></div></small></div><span class="k">Lean.quote</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>getId</var><b>: </b><span>Lean.Syntax ‚Üí Lean.Name</span></span></div></blockquote></div></small></div><span class="k">getId</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toString</var><b>: </b><span>Lean.Name ‚Üí optParam Bool true ‚Üí String</span></span></div></blockquote></div></small></div><span class="k">toString</span></div><div class="alectryon-token">) <span class="bp">`</span>[Expr<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">:term])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">) { <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ts</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ts</span></div><div class="alectryon-token"><span class="bp">*</span> } </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> { <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>es</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">es</span></div><div class="alectryon-token"><span class="bp">*</span> }]) <span class="bp">=&gt;</span> <span class="bp">`</span>(Stmt.ite <span class="bp">`</span>[Expr<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">] <span class="bp">`</span>[Stmt<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ts</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ts</span></div><div class="alectryon-token"><span class="bp">*</span>] <span class="bp">`</span>[Stmt<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>es</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">es</span></div><div class="alectryon-token"><span class="bp">*</span>])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">) { <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ts</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ts</span></div><div class="alectryon-token"><span class="bp">*</span> }]) <span class="bp">=&gt;</span> <span class="bp">`</span>(Stmt.ite <span class="bp">`</span>[Expr<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">] <span class="bp">`</span>[Stmt<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ts</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ts</span></div><div class="alectryon-token"><span class="bp">*</span>] Stmt.skip)
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> </div><div class="alectryon-token"><span class="k">while</span></div><div class="alectryon-token"> (<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">) { <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"><span class="bp">*</span> }]) <span class="bp">=&gt;</span> <span class="bp">`</span>(Stmt.while <span class="bp">`</span>[Expr<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token">] <span class="bp">`</span>[Stmt<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"><span class="bp">*</span>])
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">`</span>[Stmt<span class="bp">|</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ss</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ss</span></div><div class="alectryon-token"><span class="bp">*</span>]) <span class="bp">=&gt;</span> <span class="bp">`</span>(Stmt.seq <span class="bp">`</span>[Stmt<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">] <span class="bp">`</span>[Stmt<span class="bp">|$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ss</var><b>: </b><span>Array Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">ss</span></div><div class="alectryon-token"><span class="bp">*</span>])</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example1</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example1</div><div class="alectryon-token"> := <span class="bp">`</span>[Stmt<span class="bp">|</span>
  x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>8</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">8</span></div><div class="alectryon-token"><span class="bp">;</span>
  y := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token"><span class="bp">;</span>
  </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (x <span class="bp">&lt;</span> y) {
    x := x <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"><span class="bp">;</span>
  } </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> {
    y := y <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span>
  }
]

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2"><div class="alectryon-token"><span class="k">#reduce</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="s2">&quot;x&quot;</span> ::= Expr.val (Val.int (Int.ofNat <span class="mi">8</span>))<span class="bp">;;</span>
  <span class="s2">&quot;y&quot;</span> ::= Expr.val (Val.int (Int.ofNat <span class="mi">10</span>))<span class="bp">;;</span>
    Stmt.ite (Expr.bin (Expr.var <span class="s2">&quot;x&quot;</span>) BinOp.lt (Expr.var <span class="s2">&quot;y&quot;</span>))
      (<span class="s2">&quot;x&quot;</span> ::= Expr.bin (Expr.var <span class="s2">&quot;x&quot;</span>) BinOp.add (Expr.val (Val.int (Int.ofNat <span class="mi">1</span>))))
      (<span class="s2">&quot;y&quot;</span> ::= Expr.bin (Expr.var <span class="s2">&quot;y&quot;</span>) BinOp.add (Expr.val (Val.int (Int.ofNat <span class="mi">3</span>))))</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example1</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example1</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example2</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example2</div><div class="alectryon-token"> := <span class="bp">`</span>[Stmt<span class="bp">|</span>
  x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>8</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">8</span></div><div class="alectryon-token"><span class="bp">;</span>
  </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (x <span class="bp">&lt;</span> y) {
    x := x <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"><span class="bp">;</span>
  } </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> {
    y := y <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span>
    x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>9</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">9</span></div><div class="alectryon-token"><span class="bp">;</span>
  }
  y := x<span class="bp">;</span>]

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Stmt.seq
  (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.val (Val.int <span class="mi">8</span>)))
  (Stmt.seq
    (Stmt.ite
      (Expr.bin (Expr.var <span class="s2">&quot;x&quot;</span>) (BinOp.lt) (Expr.var <span class="s2">&quot;y&quot;</span>))
      (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.bin (Expr.var <span class="s2">&quot;x&quot;</span>) (BinOp.add) (Expr.val (Val.int <span class="mi">1</span>))))
      (Stmt.seq
        (Stmt.assign <span class="s2">&quot;y&quot;</span> (Expr.bin (Expr.var <span class="s2">&quot;y&quot;</span>) (BinOp.add) (Expr.val (Val.int <span class="mi">3</span>))))
        (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.val (Val.int <span class="mi">9</span>)))))
    (Stmt.assign <span class="s2">&quot;y&quot;</span> (Expr.var <span class="s2">&quot;x&quot;</span>)))
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example2</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example2</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="k">abbrev</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>List</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>List</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token"> <span class="bp">√ó</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">)

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>State.update</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span> [(</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)]
  <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">)::</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">then</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)::</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">update</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Option</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>Option</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">
  <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">then</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>State.get</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">|&gt;.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>getD</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ± ‚Üí Œ± ‚Üí Œ±</span></span></div></blockquote></div></small></div>getD</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="mi">0</span></div><div class="alectryon-token">)

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>State.erase</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>[]</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div>[]</div><div class="alectryon-token">
  <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">then</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">erase</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">erase</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_update_self</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var) (v : Val), find? (update œÉ x v) x = some v</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_update_self</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) x <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"> <span class="c1">-- TODO: automate this proof</span>
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) x <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) x <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> (x, v) :: s <span class="k">else</span> (y, w) :: update s x v) x <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> ((x, v) :: s) x <span class="bp">=</span> some v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> ((y, w) :: update s x v) x <span class="bp">=</span> some v</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> (x, v) :: s <span class="k">else</span> (y, w) :: update s x v) x <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_update_self</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var) (v : Val), find? (update œÉ x v) x = some v</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_update_self</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_update</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State) (v : Val), x ‚â† z ‚Üí find? (update œÉ x v) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_update</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚â†</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"> <span class="c1">-- TODO: automate this proof</span>
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>symm</var><b>: </b><span>‚àÄ {Œ± : Type} {a b : Œ±}, a ‚â† b ‚Üí b ‚â† a</span></span></div></blockquote></div></small></div>symm</div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (y, w) :: update œÉ x v) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> ((x, v) :: œÉ) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> ((y, w) :: update œÉ x v) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (y, w) :: update œÉ x v) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some v <span class="k">else</span> find<span class="bp">?</span> œÉ z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> hc <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some v <span class="k">else</span> find<span class="bp">?</span> œÉ z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> (update œÉ x v) z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hc</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">some v <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hc</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> œÉ z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hc</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some v <span class="k">else</span> find<span class="bp">?</span> œÉ z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> (update œÉ x v) z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">some w <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1f"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk20"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">some w <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk21"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk22"><div class="alectryon-token"><span class="k">rfl</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk23"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">find<span class="bp">?</span> (update œÉ x v) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk24"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_update</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State) (v : Val), x ‚â† z ‚Üí find? (update œÉ x v) z = find? œÉ z</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="c1">-- TODO: remove after we add better automation</span>
<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_update'</var><b>: </b><span>‚àÄ {z x : Var} (œÉ : State) (v : Val), z ‚â† x ‚Üí find? (update œÉ x v) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_update&#39;</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>z ‚â† x</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">‚â†</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_update</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State) (v : Val), x ‚â† z ‚Üí find? (update œÉ x v) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>z ‚â† x</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>symm</var><b>: </b><span>‚àÄ {Œ± : Type} {a b : Œ±}, a ‚â† b ‚Üí b ‚â† a</span></span></div></blockquote></div></small></div>symm</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get_of_find?</var><b>: </b><span>‚àÄ {x : Var} {v : Val} {œÉ : State}, find? œÉ x = some v ‚Üí get œÉ x = v</span></span></div></blockquote></div></small></div>State.get_of_find<span class="bp">?</span></div><div class="alectryon-token"> {</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">} (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>find? œÉ x = some v</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>get</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk25"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get œÉ x <span class="bp">=</span> v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk26"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>State.get</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>find? œÉ x = some v</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Option.getD</var><b>: </b><span>{Œ± : Type ?u.19505} ‚Üí Option Œ± ‚Üí Œ± ‚Üí Œ±</span></span></div></blockquote></div></small></div>Option.getD</div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_erase_self</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), find? (erase œÉ x) x = none</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_erase_self</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk27"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk28"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk29"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2a"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2b"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> erase œÉ x <span class="k">else</span> (y, w) :: erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2c"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2d"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> ((y, w) :: erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2e"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> erase œÉ x <span class="k">else</span> (y, w) :: erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk2f"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) y <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk30"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) y <span class="bp">=</span> none</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk31" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk31"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk32"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_erase_self</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), find? (erase œÉ x) x = none</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_erase_self</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk33"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) x <span class="bp">=</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk34"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_erase_self</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), find? (erase œÉ x) x = none</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_erase_self</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_erase</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State), x ‚â† z ‚Üí find? (erase œÉ x) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_erase</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚â†</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk35"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk36"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk37"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk38"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk39"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> erase œÉ x <span class="k">else</span> (y, w) :: erase œÉ x) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3a"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3b"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> ((y, w) :: erase œÉ x) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3c"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> erase œÉ x <span class="k">else</span> (y, w) :: erase œÉ x) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3d"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3e"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> hxy <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk3f"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> (erase œÉ x) z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk40"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk41"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hxy</var><b>: </b><span>x = y</span></span></div></blockquote></div></small></div><span class="nv">hxy</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>y <span class="bp">‚â†</span> z</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk42"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>y <span class="bp">‚â†</span> z</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk43"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>y <span class="bp">‚â†</span> z</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk44"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>y ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>symm</var><b>: </b><span>‚àÄ {Œ± : Type} {a b : Œ±}, a ‚â† b ‚Üí b ‚â† a</span></span></div></blockquote></div></small></div>symm</div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>y <span class="bp">‚â†</span> z</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ y) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk45"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_erase</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State), x ‚â† z ‚Üí find? (erase œÉ x) z = find? œÉ z</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>y ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk46"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">(<span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> (erase œÉ x) z) <span class="bp">=</span> <span class="k">if</span> z <span class="bp">=</span> y <span class="k">then</span> some w <span class="k">else</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk47"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">some w <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk48"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk49"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">some w <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4a"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4b"><div class="alectryon-token"><span class="k">rfl</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4c"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">‚â†</span> z</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">find<span class="bp">?</span> (erase œÉ x) z <span class="bp">=</span> find<span class="bp">?</span> œÉ z</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4d"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?_erase</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State), x ‚â† z ‚Üí find? (erase œÉ x) z = find? œÉ z</span></span></div></blockquote></div></small></div>find<span class="bp">?</span>_erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>x ‚â† z</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="c1">-- TODO: remove after we add better automation</span>
<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_erase'</var><b>: </b><span>‚àÄ {z x : Var} (œÉ : State), z ‚â† x ‚Üí find? (erase œÉ x) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_erase&#39;</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>z ‚â† x</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">‚â†</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?_erase</var><b>: </b><span>‚àÄ {x z : Var} (œÉ : State), x ‚â† z ‚Üí find? (erase œÉ x) z = find? œÉ z</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span>_erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>z ‚â† x</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>symm</var><b>: </b><span>‚àÄ {Œ± : Type} {a b : Œ±}, a ‚â† b ‚Üí b ‚â† a</span></span></div></blockquote></div></small></div>symm</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="k">syntax</span></div><div class="alectryon-token"> ident <span class="s2">&quot; ‚Ü¶ &quot;</span> term : term

</div><div class="alectryon-token"><span class="k">macro_rules</span></div><div class="alectryon-token">
  <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>id</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">id</span></div><div class="alectryon-token">:ident <span class="bp">‚Ü¶</span> <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">:term) <span class="bp">=&gt;</span> <span class="bp">`</span>((<span class="bp">$</span>(</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Lean.quote</var><b>: </b><span>{Œ± : Type} ‚Üí [self : Lean.Quote Œ±] ‚Üí Œ± ‚Üí Lean.Syntax</span></span></div></blockquote></div></small></div><span class="k">Lean.quote</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>id</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">id</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>getId</var><b>: </b><span>Lean.Syntax ‚Üí Lean.Name</span></span></div></blockquote></div></small></div><span class="k">getId</span></div><div class="alectryon-token"><span class="k">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toString</var><b>: </b><span>Lean.Name ‚Üí optParam Bool true ‚Üí String</span></span></div></blockquote></div></small></div><span class="k">toString</span></div><div class="alectryon-token">), <span class="bp">$</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">:term))</div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example</var><b>: </b><span>State.get [(&quot;x&quot;, Val.int 10), (&quot;y&quot;, Val.int 20)] &quot;x&quot; = Val.int 10</span></span></div></blockquote></div></small></div><span class="kd">example</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>State.get</div><div class="alectryon-token"> [x <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token">, y <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>20</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="mi">20</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;x&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;x&quot;</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rfl</var><b>: </b><span>‚àÄ {Œ± : Type} {a : Œ±}, a = a</span></span></div></blockquote></div></small></div>rfl</div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example</var><b>: </b><span>State.get [(&quot;x&quot;, 10), (&quot;y&quot;, 20)] &quot;x&quot; = 10</span></span></div></blockquote></div></small></div><span class="kd">example</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>State.get</div><div class="alectryon-token"> [x <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token">, y <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>20</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="mi">20</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;x&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;x&quot;</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token">     := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rfl</var><b>: </b><span>‚àÄ {Œ± : Type} {a : Œ±}, a = a</span></span></div></blockquote></div></small></div>rfl</div><div class="alectryon-token">
</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example</var><b>: </b><span>State.get [(&quot;x&quot;, 10), (&quot;y&quot;, Val.bool true)] &quot;y&quot; = Val.bool true</span></span></div></blockquote></div></small></div><span class="kd">example</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>State.get</div><div class="alectryon-token"> [x <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>10</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="mi">10</span></div><div class="alectryon-token">, y <span class="bp">‚Ü¶</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token">] </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;y&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;y&quot;</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rfl</var><b>: </b><span>‚àÄ {Œ± : Type} {a : Œ±}, a = a</span></span></div></blockquote></div></small></div>rfl</div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>Expr.eval</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Option</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>Option</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">   <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span>Var ‚Üí Expr</span></span></div></blockquote></div></small></div>var</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">   <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>get</var><b>: </b><span>State ‚Üí Var ‚Üí Val</span></span></div></blockquote></div></small></div>get</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bin</var><b>: </b><span>Expr ‚Üí BinOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>bin</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>BinOp ‚Üí Val ‚Üí Val ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token">  <span class="c1">-- BinOp.eval : BinOp ‚Üí Val ‚Üí Val ‚Üí Option Val</span>
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Option Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">,       </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Option Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">       <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>una</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>una</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type ?u.24372} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>UnaryOp ‚Üí Val ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Option Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">      <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">


<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalTrue</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalTrue</div><div class="alectryon-token">  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Prop</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div><span class="kt">Prop</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div>Val.bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token">)
<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalFalse</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalFalse</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Prop</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div><span class="kt">Prop</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div>Val.bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>false</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>false</div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kn">section</span></div><div class="alectryon-token">
</div><div class="alectryon-token"><span class="kd">set_option</span></div><div class="alectryon-token"> hygiene </div><div class="alectryon-token"><span class="k">false</span></div><div class="alectryon-token"> <span class="c1">-- HACK: allow forward reference in notation</span>
</div><div class="alectryon-token"><span class="kn">local</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="kd">notation</span></div><div class="alectryon-token">:<span class="mi">60</span> <span class="s2">&quot;(&quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="s2">&quot;, &quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> <span class="s2">&quot;)&quot;</span>  <span class="s2">&quot; ‚áì &quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">:<span class="mi">60</span> <span class="bp">=&gt;</span> Bigstep </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">inductive</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep</var><b>: </b><span>State ‚Üí Stmt ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>Bigstep</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Prop</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div><span class="kt">Prop</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>‚àÄ {œÉ : State}, _root_.Bigstep œÉ Stmt.skip œÉ</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">       : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="bp">.</span>skip</div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>‚àÄ {v : Val} {œÉ : State} {x : Var} {e : Expr}, Expr.eval œÉ e = some v ‚Üí _root_.Bigstep œÉ (x ::= e) (State.update œÉ x v)</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token">     : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> ::= </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s‚ÇÅ : Stmt} {œÉ‚ÇÇ : State} {s‚ÇÇ : Stmt} {œÉ‚ÇÉ : State},
  _root_.Bigstep œÉ‚ÇÅ s‚ÇÅ œÉ‚ÇÇ ‚Üí _root_.Bigstep œÉ‚ÇÇ s‚ÇÇ œÉ‚ÇÉ ‚Üí _root_.Bigstep œÉ‚ÇÅ (s‚ÇÅ;; s‚ÇÇ) œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token">        : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">;;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ifTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {t : Stmt} {œÉ‚ÇÇ : State} {e : Stmt},
  evalTrue c œÉ‚ÇÅ ‚Üí _root_.Bigstep œÉ‚ÇÅ t œÉ‚ÇÇ ‚Üí _root_.Bigstep œÉ‚ÇÅ (Stmt.ite c t e) œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>ifTrue</div><div class="alectryon-token">     : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalTrue</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalTrue</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">.</span>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ifFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {e : Stmt} {œÉ‚ÇÇ : State} {t : Stmt},
  evalFalse c œÉ‚ÇÅ ‚Üí _root_.Bigstep œÉ‚ÇÅ e œÉ‚ÇÇ ‚Üí _root_.Bigstep œÉ‚ÇÅ (Stmt.ite c t e) œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>ifFalse</div><div class="alectryon-token">    : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalFalse</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalFalse</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">.</span>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>whileTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {b : Stmt} {œÉ‚ÇÇ œÉ‚ÇÉ : State},
  evalTrue c œÉ‚ÇÅ ‚Üí _root_.Bigstep œÉ‚ÇÅ b œÉ‚ÇÇ ‚Üí _root_.Bigstep œÉ‚ÇÇ (Stmt.while c b) œÉ‚ÇÉ ‚Üí _root_.Bigstep œÉ‚ÇÅ (Stmt.while c b) œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>whileTrue</div><div class="alectryon-token">  : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalTrue</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalTrue</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">.¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">.¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>whileFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ : State} {b : Stmt}, evalFalse c œÉ ‚Üí _root_.Bigstep œÉ (Stmt.while c b) œÉ</span></span></div></blockquote></div></small></div>whileFalse</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalFalse</var><b>: </b><span>Expr ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>evalFalse</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">.¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">end</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">notation</span></div><div class="alectryon-token">:<span class="mi">60</span> <span class="s2">&quot;(&quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="s2">&quot;, &quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> <span class="s2">&quot;)&quot;</span>  <span class="s2">&quot; ‚áì &quot;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">:<span class="mi">60</span> <span class="bp">=&gt;</span> Bigstep </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>Lean.Syntax</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">

<span class="c">/-</span><span class="cm"> This proof can be automated using forward reasoning. -/</span>
</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstem.det</var><b>: </b><span>‚àÄ {œÉ : State} {s : Stmt} {œÉ‚ÇÅ œÉ‚ÇÇ : State}, (œÉ, s) ‚áì œÉ‚ÇÅ ‚Üí (œÉ, s) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÅ = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Bigstem.det</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ, s) ‚áì œÉ‚ÇÅ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>(œÉ, s) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4e"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÅ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÅ <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk4f"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ, s) ‚áì œÉ‚ÇÅ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">generalizing</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚úù, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ<span class="bp">‚úù</span>, Stmt.skip) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">œÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù</span> ::= e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk50"><hr><span class="goal-name">assign</span></label><div class="goal-conclusion">State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù;;</span> s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk51"><hr><span class="goal-name">seq</span></label><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, Stmt.ite c<span class="bp">‚úù</span> t<span class="bp">‚úù</span> e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk52"><hr><span class="goal-name">ifTrue</span></label><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, Stmt.ite c<span class="bp">‚úù</span> t<span class="bp">‚úù</span> e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk53"><hr><span class="goal-name">ifFalse</span></label><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk54"><hr><span class="goal-name">whileTrue</span></label><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk55"><hr><span class="goal-name">whileFalse</span></label><div class="goal-conclusion">œÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk56"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÅ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÅ <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk57"><div class="alectryon-token"><span class="k">cases</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>(œÉ‚úù, Stmt.skip) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>a‚úù¬≥</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù¬≤</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse.ifTrue</span></span><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬≥</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù¬≤</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk58"><hr><span class="goal-name">ifFalse.ifFalse</span></label><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk59"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>a_ih‚úù</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, Stmt.ite c<span class="bp">‚úù</span> t<span class="bp">‚úù</span> e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5a"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5b"><div class="alectryon-token"><span class="c1">-- The rest of this proof should be automatic with congruence closure and a bit of forward reasoning</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÅ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÅ <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5c"><div class="alectryon-token"><span class="k">case</span></div><div class="alectryon-token"> seq ih‚ÇÅ ih‚ÇÇ h‚ÇÅ h‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù¬π</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù, œÉ‚ÇÇ, œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù¬π</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5d"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ‚úù, s‚ÇÅ‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ‚úù¬π = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, s‚ÇÅ‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ‚úù¬π, s‚ÇÇ‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÉ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ, œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù¬π</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù, œÉ‚ÇÇ, œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù¬π</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5e"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ‚úù, s‚ÇÇ‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÉ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, s‚ÇÇ‚úù) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk5f"><div class="alectryon-token"><span class="k">case</span></div><div class="alectryon-token"> ifTrue ih _ h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk60"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ‚úù, t‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ‚ÇÅ‚úù, t‚úù) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk61"><div class="alectryon-token"><span class="k">case</span></div><div class="alectryon-token"> ifFalse ih _ h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk62"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ‚úù, e‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ‚ÇÅ‚úù, e‚úù) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk63"><div class="alectryon-token"><span class="k">case</span></div><div class="alectryon-token"> whileTrue ih‚ÇÅ ih‚ÇÇ _ h‚ÇÅ h‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù¬π, œÉ‚ÇÉ‚úù, œÉ‚ÇÇ, œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù¬π</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk64"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ‚úù, b‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ‚úù¬π = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, b‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ‚úù¬π, Stmt.while c‚úù b‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÉ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù¬π, œÉ‚ÇÉ‚úù, œÉ‚ÇÇ, œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù¬π</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÇ<span class="bp">‚úù¬π</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ<span class="bp">‚úù</span>, Stmt.while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ <span class="bp">‚Üí</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">=</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk65"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÇ : State}, (œÉ‚ÇÇ‚úù, Stmt.while c‚úù b‚úù) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÉ‚úù = œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, Stmt.while c‚úù b‚úù) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="k">abbrev</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>EvalM</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>EvalM</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ExceptT</var><b>: </b><span>Type ‚Üí (Type ‚Üí Type) ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>ExceptT</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>String</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>String</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>StateM</var><b>: </b><span>Type ‚Üí Type ‚Üí Type</span></span></div></blockquote></div></small></div>StateM</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalExpr</var><b>: </b><span>Expr ‚Üí EvalM Val</span></span></div></blockquote></div></small></div>evalExpr</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>EvalM</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>EvalM</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token"> := </div><div class="alectryon-token"><span class="k">do</span></div><div class="alectryon-token">
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê get)</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>(<span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>get</var><b>: </b><span>{œÉ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [self : MonadState œÉ m] ‚Üí m œÉ</span></span></div></blockquote></div></small></div><span class="nv">get</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê get)</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>)</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type ?u.33712} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">return</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type ?u.33907} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>throw</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [self : MonadExcept Œµ m] ‚Üí {Œ± : Type} ‚Üí Œµ ‚Üí m Œ±</span></span></div></blockquote></div></small></div>throw</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;failed to evaluate&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;failed to evaluate&quot;</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div>Stmt.eval</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>stmt</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">stmt</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Nat</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>100</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="mi">100</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>EvalM</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>EvalM</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Unit</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Unit</div><div class="alectryon-token"> := </div><div class="alectryon-token"><span class="k">do</span></div><div class="alectryon-token">
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="mi">0</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>throw</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [self : MonadExcept Œµ m] ‚Üí {Œ± : Type} ‚Üí Œµ ‚Üí m Œ±</span></span></div></blockquote></div></small></div>throw</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;out of fuel&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;out of fuel&quot;</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token"><span class="bp">+</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>stmt</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">stmt</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">        <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">return</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>()</var><b>: </b><span>Unit</span></span></div></blockquote></div></small></div>()</div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">let</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalExpr</var><b>: </b><span>Expr ‚Üí EvalM Val</span></span></div></blockquote></div></small></div>evalExpr</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>modify</var><b>: </b><span>{œÉ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [inst : MonadState œÉ m] ‚Üí (œÉ ‚Üí œÉ) ‚Üí m PUnit</span></span></div></blockquote></div></small></div>modify</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">fun</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token">   <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token"><span class="bp">;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token">   <span class="bp">=&gt;</span>
      </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>(<span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalExpr</var><b>: </b><span>Expr ‚Üí EvalM Val</span></span></div></blockquote></div></small></div><span class="nv">evalExpr</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>)</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>false</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>false</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>throw</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [self : MonadExcept Œµ m] ‚Üí {Œ± : Type} ‚Üí Œµ ‚Üí m Œ±</span></span></div></blockquote></div></small></div>throw</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;Boolean expected&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;Boolean expected&quot;</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
      </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>(<span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>evalExpr</var><b>: </b><span>Expr ‚Üí EvalM Val</span></span></div></blockquote></div></small></div><span class="nv">evalExpr</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>(‚Üê evalExpr c)</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>)</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token">  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token"><span class="bp">;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>stmt</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">stmt</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="nv">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuel</var><b>: </b><span>optParam Nat 100</span></span></div></blockquote></div></small></div><span class="nv">fuel</span></div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>false</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>false</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">return</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>()</var><b>: </b><span>Unit</span></span></div></blockquote></div></small></div>()</div><div class="alectryon-token">
      <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>throw</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí [self : MonadExcept Œµ m] ‚Üí {Œ± : Type} ‚Üí Œµ ‚Üí m Œ±</span></span></div></blockquote></div></small></div>throw</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;Boolean expected&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;Boolean expected&quot;</span></div><div class="alectryon-token">

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk66"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">(Except.ok (), [(<span class="s2">&quot;x&quot;</span>, Val.int <span class="mi">8</span>), (<span class="s2">&quot;y&quot;</span>, Val.int <span class="mi">5</span>)])
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> <span class="bp">`</span>[Stmt<span class="bp">|</span> x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span> y := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>5</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">5</span></div><div class="alectryon-token"><span class="bp">;</span> x := x <span class="bp">+</span> y<span class="bp">;</span>]<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> <span class="bp">|&gt;.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>run</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí {Œ± : Type} ‚Üí ExceptT Œµ m Œ± ‚Üí m (Except Œµ Œ±)</span></span></div></blockquote></div></small></div>run</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>{}</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>{}</div><div class="alectryon-token">
</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk67"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">(Except.error <span class="s2">&quot;out of fuel&quot;</span>, [(<span class="s2">&quot;x&quot;</span>, Val.int <span class="mi">98</span>)])
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> <span class="bp">`</span>[Stmt<span class="bp">|</span> x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">0</span></div><div class="alectryon-token"><span class="bp">;</span> </div><div class="alectryon-token"><span class="k">while</span></div><div class="alectryon-token"> (true) { x := x <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"><span class="bp">;</span> }]<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> <span class="bp">|&gt;.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>run</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí {Œ± : Type} ‚Üí ExceptT Œµ m Œ± ‚Üí m (Except Œµ Œ±)</span></span></div></blockquote></div></small></div>run</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>{}</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>{}</div><div class="alectryon-token">

</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>instance</var><b>: </b><span>Repr State</span></span></div></blockquote></div></small></div><span class="kd">instance</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span>Type ‚Üí Type</span></span></div></blockquote></div></small></div>Repr</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">where</span></div><div class="alectryon-token">
  reprPrec </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token"> :=
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div><span class="nv">n</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> [], </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;[]&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;[]&quot;</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>as</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">as</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Nat</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> <span class="bp">=&gt;</span>
      </div><div class="alectryon-token"><span class="k">let</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fs</var><b>: </b><span>List Std.Format</span></span></div></blockquote></div></small></div><span class="nv">fs</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>as</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">as</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>map</var><b>: </b><span>{Œ± Œ≤ : Type} ‚Üí (Œ± ‚Üí Œ≤) ‚Üí List Œ± ‚Üí List Œ≤</span></span></div></blockquote></div></small></div>map</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">fun</span></div><div class="alectryon-token">
        <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)  <span class="bp">=&gt;</span> </div><div class="alectryon-token">f<span class="bp">!</span></div><div class="alectryon-token"><span class="s2">&quot;{</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">} <span class="bp">‚Ü¶</span> {</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">}<span class="s2">&quot;</span>
<span class="s2">        | (</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token">f<span class="bp">!</span></div><div class="alectryon-token"><span class="s2">&quot;{</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">} <span class="bp">‚Ü¶</span> {</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">}<span class="s2">&quot;</span>
      </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Std.Format.bracket</var><b>: </b><span>String ‚Üí Std.Format ‚Üí String ‚Üí Std.Format</span></span></div></blockquote></div></small></div>Std.Format.bracket</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;[&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;[&quot;</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Std.Format.joinSep</var><b>: </b><span>{Œ± : Type} ‚Üí [inst : Std.ToFormat Œ±] ‚Üí List Œ± ‚Üí Std.Format ‚Üí Std.Format</span></span></div></blockquote></div></small></div>Std.Format.joinSep</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fs</var><b>: </b><span>List Std.Format</span></span></div></blockquote></div></small></div><span class="nv">fs</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;,&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;,&quot;</span></div><div class="alectryon-token"> <span class="bp">++</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Std.Format.line</var><b>: </b><span>Std.Format</span></span></div></blockquote></div></small></div>Std.Format.line</div><div class="alectryon-token">)) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>&quot;]&quot;</var><b>: </b><span>String</span></span></div></blockquote></div></small></div><span class="s2">&quot;]&quot;</span></div><div class="alectryon-token">

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk68"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">(Except.ok (), [x <span class="bp">‚Ü¶</span> <span class="mi">8</span>, y <span class="bp">‚Ü¶</span> <span class="mi">5</span>])
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> <span class="bp">`</span>[Stmt<span class="bp">|</span> x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span> y := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>5</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">5</span></div><div class="alectryon-token"><span class="bp">;</span> x := x <span class="bp">+</span> y<span class="bp">;</span> ]<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>Stmt ‚Üí optParam Nat 100 ‚Üí EvalM Unit</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> <span class="bp">|&gt;.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>run</var><b>: </b><span>{Œµ : Type} ‚Üí {m : Type ‚Üí Type} ‚Üí {Œ± : Type} ‚Üí ExceptT Œµ m Œ± ‚Üí m (Except Œµ Œ±)</span></span></div></blockquote></div></small></div>run</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>{}</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>{}</div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp.simplify</var><b>: </b><span>BinOp ‚Üí Expr ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>BinOp.simplify</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>BinOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>BinOp</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.eq</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>eq</div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token">  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÅ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v‚ÇÇ</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v‚ÇÇ</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.and</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>and</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">), </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> <span class="bp">&amp;&amp;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.lt</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>lt</div><div class="alectryon-token">,  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">),  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">)  <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.add</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>add</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">), </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.sub</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>sub</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">), </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.int</var><b>: </b><span>Int ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>int</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> <span class="bp">-</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Int</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">))
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bin</var><b>: </b><span>Expr ‚Üí BinOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>bin</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp.simplify</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>UnaryOp.simplify</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>UnaryOp</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>UnaryOp</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.not</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="bp">.</span>not</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> <span class="bp">!</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.una</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>una</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">a</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>Expr.simplify</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bin</var><b>: </b><span>Expr ‚Üí BinOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>bin</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>BinOp ‚Üí Expr ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>una</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>una</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), eval œÉ (simplify e) = eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk69"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (simplify e) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6a"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (simplify e) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6b"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6c"><div class="alectryon-token"><span class="bp">|</span> bin lhs op rhs ih_lhs ih_rhs <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>BinOp</span></span></span><br><span><var>rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">bin</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify lhs, simplify rhs <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, val v‚ÇÅ, val v‚ÇÇ <span class="bp">=&gt;</span> val (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, val (Val.bool a), val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool (a <span class="bp">&amp;&amp;</span> b))
    <span class="bp">|</span> BinOp.lt, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.bool (decide (a <span class="bp">&lt;</span> b)))
    <span class="bp">|</span> BinOp.add, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">+</span> b))
    <span class="bp">|</span> BinOp.sub, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">-</span> b))
    <span class="bp">|</span> op, a, b <span class="bp">=&gt;</span> bin a op b) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ lhs, eval œÉ rhs <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6d"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih_lhs</var><b>: </b><span>eval œÉ (simplify lhs) = eval œÉ lhs</span></span></div></blockquote></div></small></div><span class="nv">ih_lhs</span></div><div class="alectryon-token">, <span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih_rhs</var><b>: </b><span>eval œÉ (simplify rhs) = eval œÉ rhs</span></span></div></blockquote></div></small></div><span class="nv">ih_rhs</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>BinOp</span></span></span><br><span><var>rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">bin</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify lhs, simplify rhs <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, val v‚ÇÅ, val v‚ÇÇ <span class="bp">=&gt;</span> val (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, val (Val.bool a), val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool (a <span class="bp">&amp;&amp;</span> b))
    <span class="bp">|</span> BinOp.lt, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.bool (decide (a <span class="bp">&lt;</span> b)))
    <span class="bp">|</span> BinOp.add, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">+</span> b))
    <span class="bp">|</span> BinOp.sub, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">-</span> b))
    <span class="bp">|</span> op, a, b <span class="bp">=&gt;</span> bin a op b) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (simplify lhs), eval œÉ (simplify rhs) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6e"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs, rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>v‚ÇÅ‚úù, v‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">bin.h_1</span></span><div class="goal-conclusion">eval œÉ (val (Val.bool (decide (v‚ÇÅ<span class="bp">‚úù</span> <span class="bp">=</span> v‚ÇÇ<span class="bp">‚úù</span>)))) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val v‚ÇÅ<span class="bp">‚úù</span>), eval œÉ (val v‚ÇÇ<span class="bp">‚úù</span>) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs, rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>a‚úù, b‚úù</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk6f"><hr><span class="goal-name">bin.h_2</span></label><div class="goal-conclusion">eval œÉ (val (Val.bool (a<span class="bp">‚úù</span> <span class="bp">&amp;&amp;</span> b<span class="bp">‚úù</span>))) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val (Val.bool a<span class="bp">‚úù</span>)), eval œÉ (val (Val.bool b<span class="bp">‚úù</span>)) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> BinOp.and, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs, rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>a‚úù, b‚úù</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk70"><hr><span class="goal-name">bin.h_3</span></label><div class="goal-conclusion">eval œÉ (val (Val.bool (decide (a<span class="bp">‚úù</span> <span class="bp">&lt;</span> b<span class="bp">‚úù</span>)))) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val (Val.int a<span class="bp">‚úù</span>)), eval œÉ (val (Val.int b<span class="bp">‚úù</span>)) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> BinOp.lt, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs, rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>a‚úù, b‚úù</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk71"><hr><span class="goal-name">bin.h_4</span></label><div class="goal-conclusion">eval œÉ (val (Val.int (a<span class="bp">‚úù</span> <span class="bp">+</span> b<span class="bp">‚úù</span>))) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val (Val.int a<span class="bp">‚úù</span>)), eval œÉ (val (Val.int b<span class="bp">‚úù</span>)) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> BinOp.add, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs, rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>a‚úù, b‚úù</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk72"><hr><span class="goal-name">bin.h_5</span></label><div class="goal-conclusion">eval œÉ (val (Val.int (a<span class="bp">‚úù</span> <span class="bp">-</span> b<span class="bp">‚úù</span>))) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val (Val.int a<span class="bp">‚úù</span>)), eval œÉ (val (Val.int b<span class="bp">‚úù</span>)) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> BinOp.sub, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>BinOp</span></span></span><br><span><var>rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br><span><var>x‚úù‚Åπ, x‚úù‚Å∏</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk73"><hr><span class="goal-name">bin.h_6</span></label><div class="goal-conclusion">eval œÉ (bin x<span class="bp">‚úù‚Åπ</span> op x<span class="bp">‚úù‚Å∏</span>) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ x<span class="bp">‚úù‚Åπ</span>, eval œÉ x<span class="bp">‚úù‚Å∏</span> <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk74"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>lhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>BinOp</span></span></span><br><span><var>rhs</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_lhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify lhs) <span class="bp">=</span> eval œÉ lhs</span></span></span><br><span><var>ih_rhs</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify rhs) <span class="bp">=</span> eval œÉ rhs</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">bin</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify lhs, simplify rhs <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, val v‚ÇÅ, val v‚ÇÇ <span class="bp">=&gt;</span> val (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, val (Val.bool a), val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool (a <span class="bp">&amp;&amp;</span> b))
    <span class="bp">|</span> BinOp.lt, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.bool (decide (a <span class="bp">&lt;</span> b)))
    <span class="bp">|</span> BinOp.add, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">+</span> b))
    <span class="bp">|</span> BinOp.sub, val (Val.int a), val (Val.int b) <span class="bp">=&gt;</span> val (Val.int (a <span class="bp">-</span> b))
    <span class="bp">|</span> op, a, b <span class="bp">=&gt;</span> bin a op b) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (simplify lhs), eval œÉ (simplify rhs) <span class="k">with</span>
  <span class="bp">|</span> some v‚ÇÅ, some v‚ÇÇ <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v‚ÇÅ, v‚ÇÇ <span class="k">with</span>
    <span class="bp">|</span> BinOp.eq, v‚ÇÅ, v‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (v‚ÇÅ <span class="bp">=</span> v‚ÇÇ)))
    <span class="bp">|</span> BinOp.and, Val.bool b‚ÇÅ, Val.bool b‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (b‚ÇÅ <span class="bp">&amp;&amp;</span> b‚ÇÇ))
    <span class="bp">|</span> BinOp.lt, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.bool (decide (i‚ÇÅ <span class="bp">&lt;</span> i‚ÇÇ)))
    <span class="bp">|</span> BinOp.add, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">+</span> i‚ÇÇ))
    <span class="bp">|</span> BinOp.sub, Val.int i‚ÇÅ, Val.int i‚ÇÇ <span class="bp">=&gt;</span> some (Val.int (i‚ÇÅ <span class="bp">-</span> i‚ÇÇ))
    <span class="bp">|</span> x, x_1, x_2 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk75"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk76"><div class="alectryon-token"><span class="bp">|</span> una op arg ih_arg <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>UnaryOp</span></span></span><br><span><var>arg</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_arg</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify arg) <span class="bp">=</span> eval œÉ arg</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">una</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify arg <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> op, a <span class="bp">=&gt;</span> una op a) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ arg <span class="k">with</span>
  <span class="bp">|</span> some v <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, Val.bool b <span class="bp">=&gt;</span> some (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk77"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih_arg</var><b>: </b><span>eval œÉ (simplify arg) = eval œÉ arg</span></span></div></blockquote></div></small></div><span class="nv">ih_arg</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>UnaryOp</span></span></span><br><span><var>arg</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_arg</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify arg) <span class="bp">=</span> eval œÉ arg</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">una</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify arg <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> op, a <span class="bp">=&gt;</span> una op a) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (simplify arg) <span class="k">with</span>
  <span class="bp">|</span> some v <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, Val.bool b <span class="bp">=&gt;</span> some (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk78"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>arg</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_arg</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify arg) <span class="bp">=</span> eval œÉ arg</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">una.h_1</span></span><div class="goal-conclusion">eval œÉ (val (Val.bool <span class="bp">!</span>b<span class="bp">‚úù</span>)) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (val (Val.bool b<span class="bp">‚úù</span>)) <span class="k">with</span>
  <span class="bp">|</span> some v <span class="bp">=&gt;</span>
    <span class="k">match</span> UnaryOp.not, v <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, Val.bool b <span class="bp">=&gt;</span> some (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x <span class="bp">=&gt;</span> none</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>UnaryOp</span></span></span><br><span><var>arg</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_arg</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify arg) <span class="bp">=</span> eval œÉ arg</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk79"><hr><span class="goal-name">una.h_2</span></label><div class="goal-conclusion">eval œÉ (una op x<span class="bp">‚úù¬≥</span>) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ x<span class="bp">‚úù¬≥</span> <span class="k">with</span>
  <span class="bp">|</span> some v <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, Val.bool b <span class="bp">=&gt;</span> some (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x <span class="bp">=&gt;</span> none</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7a"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>op</var><span class="hyp-type"><b>: </b><span>UnaryOp</span></span></span><br><span><var>arg</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih_arg</var><span class="hyp-type"><b>: </b><span>eval œÉ (simplify arg) <span class="bp">=</span> eval œÉ arg</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">una</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> op, simplify arg <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, val (Val.bool b) <span class="bp">=&gt;</span> val (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> op, a <span class="bp">=&gt;</span> una op a) <span class="bp">=</span>
  <span class="k">match</span> eval œÉ (simplify arg) <span class="k">with</span>
  <span class="bp">|</span> some v <span class="bp">=&gt;</span>
    <span class="k">match</span> op, v <span class="k">with</span>
    <span class="bp">|</span> UnaryOp.not, Val.bool b <span class="bp">=&gt;</span> some (Val.bool <span class="bp">!</span>b)
    <span class="bp">|</span> x, x_1 <span class="bp">=&gt;</span> none
  <span class="bp">|</span> x <span class="bp">=&gt;</span> none</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7b"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>Stmt.simplify</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>true</div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>false</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>false</div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c&#39;</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">t</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.bool</var><b>: </b><span>Bool ‚Üí Val</span></span></div></blockquote></div></small></div><span class="bp">.</span>bool</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>false</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div>false</div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c&#39;</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="nv">simplify</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example3</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example3</div><div class="alectryon-token"> := <span class="bp">`</span>[Stmt<span class="bp">|</span>
  </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>2</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">2</span></div><div class="alectryon-token"> <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token">) {
    x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"> <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"><span class="bp">;</span>
    y := y <span class="bp">+</span> x<span class="bp">;</span>
  } </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> {
    y := y <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span>
  }
]

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7c"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Stmt.seq (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.val (Val.int <span class="mi">4</span>))) (Stmt.assign <span class="s2">&quot;y&quot;</span> (Expr.bin (Expr.var <span class="s2">&quot;y&quot;</span>) (BinOp.add) (Expr.var <span class="s2">&quot;x&quot;</span>)))
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example3</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example3</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.simplify_correct</var><b>: </b><span>‚àÄ {œÉ : State} {s : Stmt} {œÉ' : State}, (œÉ, s) ‚áì œÉ' ‚Üí (œÉ, simplify s) ‚áì œÉ'</span></span></div></blockquote></div></small></div>Stmt.simplify_correct</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ, s) ‚áì œÉ'</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7d"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ, simplify s) <span class="bp">‚áì</span> œÉ&#39;</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7e"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ, s) ‚áì œÉ'</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ, s) <span class="bp">‚áì</span> œÉ&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ, simplify s) <span class="bp">‚áì</span> œÉ&#39;</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk7f"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk80"><div class="alectryon-token"><span class="bp">|</span> skip <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ', œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk81"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.skip</var><b>: </b><span>‚àÄ {œÉ : State}, (œÉ, skip) ‚áì œÉ</span></span></div></blockquote></div></small></div>Bigstep.skip</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk82"><div class="alectryon-token"><span class="bp">|</span> seq h‚ÇÅ h‚ÇÇ ih‚ÇÅ ih‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ', œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, simplify s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">seq</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify s‚ÇÅ<span class="bp">‚úù;;</span> simplify s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk83"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.seq</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s‚ÇÅ : Stmt} {œÉ‚ÇÇ : State} {s‚ÇÇ : Stmt} {œÉ‚ÇÉ : State}, (œÉ‚ÇÅ, s‚ÇÅ) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÇ, s‚ÇÇ) ‚áì œÉ‚ÇÉ ‚Üí (œÉ‚ÇÅ, s‚ÇÅ;; s‚ÇÇ) ‚áì œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Bigstep.seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, simplify s‚ÇÅ‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, simplify s‚ÇÇ‚úù) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk84"><div class="alectryon-token"><span class="bp">|</span> assign <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù</span> ::= Expr.simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk85"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.assign</var><b>: </b><span>‚àÄ {v : Val} {œÉ : State} {x : Var} {e : Expr}, Expr.eval œÉ e = some v ‚Üí (œÉ, x ::= e) ‚áì State.update œÉ x v</span></span></div></blockquote></div></small></div>Bigstep.assign</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.a</span></span><div class="goal-conclusion">Expr.eval œÉ<span class="bp">‚úù</span> (Expr.simplify e<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk86"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk87"><div class="alectryon-token"><span class="bp">|</span> whileTrue heq h‚ÇÅ h‚ÇÇ ih‚ÇÅ ih‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk88"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk89"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8a"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8b"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8c"><div class="alectryon-token"><span class="k">revert</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù,
  match Expr.simplify c‚úù with
  | Expr.val (Val.bool false) =&gt; skip
  | c' =&gt; while c' (simplify b‚úù)) ‚áì
  œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÇ<span class="bp">‚úù</span>,
    <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
    <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
    <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
    œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">‚Üí</span>
  (œÉ‚ÇÅ<span class="bp">‚úù</span>,
    <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
    <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
    <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
    œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8d"><div class="alectryon-token"><span class="c1">-- This is a hack to make sure the next split simplify the two match expressions: TODO: make sure `simp` can do it</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8e"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue.h_1</span></span><div class="goal-conclusion">(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk8f"><hr><span class="goal-name">whileTrue.h_2</span></label><div class="goal-conclusion">(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk90"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÇ<span class="bp">‚úù</span>,
    <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
    <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
    <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
    œÉ‚ÇÉ<span class="bp">‚úù</span> <span class="bp">‚Üí</span>
  (œÉ‚ÇÅ<span class="bp">‚úù</span>,
    <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
    <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
    <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
    œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk91"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, skip) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue.h_2</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk92"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue.h_1</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk93" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk93"><hr><span class="goal-name">whileTrue.h_2</span></label><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk94"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> Expr.val (Val.bool false)</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk95"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify c‚úù = Expr.val (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.val (Val.bool false)) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> Expr.val (Val.bool false)</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk96"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.val (Val.bool false)) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> Expr.val (Val.bool false)</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk97"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù (Expr.simplify c‚úù) = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.val (Val.bool false)) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> Expr.val (Val.bool false)</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk98"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù (Expr.val (Val.bool false)) = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk99"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h _ _ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue.h_2</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9a"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9b"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify c‚úù = x‚úù¬≤</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9c"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9d"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù (Expr.simplify c‚úù) = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9e"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.whileTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {b : Stmt} {œÉ‚ÇÇ œÉ‚ÇÉ : State},
  evalTrue c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, b) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÇ, while c b) ‚áì œÉ‚ÇÉ ‚Üí (œÉ‚ÇÅ, while c b) ‚áì œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Bigstep.whileTrue</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù x‚úù¬≤ = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, simplify b‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, while x‚úù¬≤ (simplify b‚úù)) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk9f"><div class="alectryon-token"><span class="bp">|</span> whileFalse heq <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> skip
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> while c&#39; (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka0"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse.h_1</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka1"><hr><span class="goal-name">whileFalse.h_2</span></label><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka2"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse.h_1</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka3"><hr><span class="goal-name">whileFalse.h_2</span></label><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka4"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.skip</var><b>: </b><span>‚àÄ {œÉ : State}, (œÉ, skip) ‚áì œÉ</span></span></div></blockquote></div></small></div>Bigstep.skip</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka5"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h _ _ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse.h_2</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, while x<span class="bp">‚úù¬≤</span> (simplify b<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka6"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.whileFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ : State} {b : Stmt}, evalFalse c œÉ ‚Üí (œÉ, while c b) ‚áì œÉ</span></span></div></blockquote></div></small></div>Bigstep.whileFalse</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">evalFalse x<span class="bp">‚úù¬≤</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka7"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">evalFalse x<span class="bp">‚úù¬≤</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka8"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify c‚úù = x‚úù¬≤</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">evalFalse (Expr.simplify c<span class="bp">‚úù</span>) œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chka9"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">evalFalse (Expr.simplify c<span class="bp">‚úù</span>) œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkaa"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚úù c‚úù = some (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkab"><div class="alectryon-token"><span class="bp">|</span> ifFalse heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkac"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkad"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkae"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkaf"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb0"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse.h_1</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb1"><hr><span class="goal-name">ifFalse.h_2</span></label><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb2"><hr><span class="goal-name">ifFalse.h_3</span></label><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite x<span class="bp">‚úù¬≥</span> (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb3"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb4"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚úù</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≥</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse.h_3</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite x<span class="bp">‚úù¬≥</span> (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb5"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.ifFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {e : Stmt} {œÉ‚ÇÇ : State} {t : Stmt}, evalFalse c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, e) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÅ, ite c t e) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Bigstep.ifFalse</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù x‚úù¬≥ = some (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(œÉ‚ÇÅ‚úù, simplify e‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb6"><div class="alectryon-token"><span class="bp">|</span> ifTrue heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb7"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb8"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkb9"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkba"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbb"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue.h_1</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbc"><hr><span class="goal-name">ifTrue.h_2</span></label><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbd"><hr><span class="goal-name">ifTrue.h_3</span></label><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite x<span class="bp">‚úù¬≥</span> (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbe"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> (Expr.simplify c<span class="bp">‚úù</span>) <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>,
  <span class="k">match</span> Expr.simplify c<span class="bp">‚úù</span> <span class="k">with</span>
  <span class="bp">|</span> Expr.val (Val.bool true) <span class="bp">=&gt;</span> simplify t<span class="bp">‚úù</span>
  <span class="bp">|</span> Expr.val (Val.bool false) <span class="bp">=&gt;</span> simplify e<span class="bp">‚úù</span>
  <span class="bp">|</span> c&#39; <span class="bp">=&gt;</span> ite c&#39; (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span>
  œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkbf"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, simplify t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚úù</var><span class="hyp-type"><b>: </b><span>Expr.simplify c<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù¬≥</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue.h_3</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite x<span class="bp">‚úù¬≥</span> (simplify t<span class="bp">‚úù</span>) (simplify e<span class="bp">‚úù</span>)) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc0"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.ifTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {t : Stmt} {œÉ‚ÇÇ : State} {e : Stmt}, evalTrue c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, t) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÅ, ite c t e) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Bigstep.ifTrue</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù x‚úù¬≥ = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(œÉ‚ÇÅ‚úù, simplify t‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>Expr.constProp</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span>Var ‚Üí Expr</span></span></div></blockquote></div></small></div>var</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token">   <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span>Var ‚Üí Expr</span></span></div></blockquote></div></small></div>var</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bin</var><b>: </b><span>Expr ‚Üí BinOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>bin</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bin</var><b>: </b><span>Expr ‚Üí BinOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>bin</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>lhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">lhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>BinOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>rhs</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">rhs</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>una</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>una</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>una</var><b>: </b><span>UnaryOp ‚Üí Expr ‚Üí Expr</span></span></div></blockquote></div></small></div>una</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>op</var><b>: </b><span>UnaryOp</span></span></div></blockquote></div></small></div><span class="nv">op</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>arg</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">arg</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">)

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.constProp_nil</var><b>: </b><span>‚àÄ (e : Expr), constProp e [] = e</span></span></div></blockquote></div></small></div>Expr.constProp_nil</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>[]</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div>[]</div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc1"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constProp e [] <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc2"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">val</span></span><div class="goal-conclusion">constProp (val v<span class="bp">‚úù</span>) [] <span class="bp">=</span> val v<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc3"><hr><span class="goal-name">var</span></label><div class="goal-conclusion">constProp (var x<span class="bp">‚úù</span>) [] <span class="bp">=</span> var x<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>lhs‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>op‚úù</var><span class="hyp-type"><b>: </b><span>BinOp</span></span></span><br><span><var>rhs‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc4"><hr><span class="goal-name">bin</span></label><div class="goal-conclusion">constProp (bin lhs<span class="bp">‚úù</span> op<span class="bp">‚úù</span> rhs<span class="bp">‚úù</span>) [] <span class="bp">=</span> bin lhs<span class="bp">‚úù</span> op<span class="bp">‚úù</span> rhs<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>op‚úù</var><span class="hyp-type"><b>: </b><span>UnaryOp</span></span></span><br><span><var>arg‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc5"><hr><span class="goal-name">una</span></label><div class="goal-conclusion">constProp (una op<span class="bp">‚úù</span> arg<span class="bp">‚úù</span>) [] <span class="bp">=</span> una op<span class="bp">‚úù</span> arg<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc6"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constProp e [] <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc7"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp</var><b>: </b><span>‚àÄ (e : Expr) (œÉ : State), eval œÉ (constProp e œÉ) = eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_constProp</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc8"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkc9"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkca"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> State.find<span class="bp">?</span> œÉ x <span class="k">with</span>
    <span class="bp">|</span> some v <span class="bp">=&gt;</span> val v
    <span class="bp">|</span> none <span class="bp">=&gt;</span> var x) <span class="bp">=</span>
  some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcb"><div class="alectryon-token"><span class="bp">|</span> var x <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> State.find<span class="bp">?</span> œÉ x <span class="k">with</span>
    <span class="bp">|</span> some v <span class="bp">=&gt;</span> val v
    <span class="bp">|</span> none <span class="bp">=&gt;</span> var x) <span class="bp">=</span>
  some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcc"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_1</span></span><div class="goal-conclusion">eval œÉ (val v<span class="bp">‚úù</span>) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcd"><hr><span class="goal-name">var.h_2</span></label><div class="goal-conclusion">eval œÉ (var x) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkce"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_1</span></span><div class="goal-conclusion">eval œÉ (val v<span class="bp">‚úù</span>) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkcf"><hr><span class="goal-name">var.h_2</span></label><div class="goal-conclusion">eval œÉ (var x) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd0"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get_of_find?</var><b>: </b><span>‚àÄ {x : Var} {v : Val} {œÉ : State}, State.find? œÉ x = some v ‚Üí State.get œÉ x = v</span></span></div></blockquote></div></small></div>State.get_of_find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ x = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd1"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token">   <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_2</span></span><div class="goal-conclusion">eval œÉ (var x) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd2"><div class="alectryon-token"><span class="k">rfl</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.length_erase_le</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) ‚â§ List.length œÉ</span></span></div></blockquote></div></small></div>State.length_erase_le</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div><span class="na">length</span></div><div class="alectryon-token"> <span class="bp">‚â§</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd3"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length (erase œÉ x) <span class="bp">‚â§</span> List.length œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd4"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length (erase œÉ x) <span class="bp">‚â§</span> List.length œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd5"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd6"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length (erase œÉ x) <span class="bp">‚â§</span> List.length œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd7"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hxy : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">List.length (erase ((y, v) :: œÉ) x) <span class="bp">‚â§</span> List.length ((y, v) :: œÉ)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd8"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">List.length (erase ((y, v) :: œÉ) x) <span class="bp">‚â§</span> List.length ((y, v) :: œÉ)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkd9"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length (erase ((y, v) :: œÉ) x) <span class="bp">‚â§</span> List.length ((y, v) :: œÉ)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkda"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hxy</var><b>: </b><span>¬¨x = y</span></span></div></blockquote></div></small></div><span class="nv">hxy</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">Nat.succ (List.length (erase œÉ x)) <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdb"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">List.length (erase œÉ y) <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdc"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">Nat.succ (List.length (erase œÉ x)) <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdd"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.le_trans</var><b>: </b><span>‚àÄ {n m k : Nat}, n ‚â§ m ‚Üí m ‚â§ k ‚Üí n ‚â§ k</span></span></div></blockquote></div></small></div>Nat.le_trans</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length_erase_le</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) ‚â§ List.length œÉ</span></span></div></blockquote></div></small></div><span class="nv">length_erase_le</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">) (</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length (erase œÉ y) <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkde"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length œÉ <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkdf"><div class="alectryon-token"><span class="k">simp_arith</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke0"><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke1"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">Nat.succ (List.length (erase œÉ x)) <span class="bp">‚â§</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke2"><div class="alectryon-token"><span class="k">simp_arith</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length_erase_le</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) ‚â§ List.length œÉ</span></span></div></blockquote></div></small></div><span class="nv">length_erase_le</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.length_erase_lt</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) &lt; Nat.succ (List.length œÉ)</span></span></div></blockquote></div></small></div>State.length_erase_lt</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div><span class="na">length</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>succ</var><b>: </b><span>Nat ‚Üí Nat</span></span></div></blockquote></div></small></div>succ</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.lt_of_le_of_lt</var><b>: </b><span>‚àÄ {n m k : Nat}, n ‚â§ m ‚Üí m &lt; k ‚Üí n &lt; k</span></span></div></blockquote></div></small></div>Nat.lt_of_le_of_lt</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length_erase_le</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) ‚â§ List.length œÉ</span></span></div></blockquote></div></small></div>length_erase_le</div><div class="alectryon-token"> <span class="bp">..</span>) (</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke3"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.length œÉ <span class="bp">&lt;</span> Nat.succ (List.length œÉ)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke4"><div class="alectryon-token"><span class="k">simp_arith</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">)

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.join</var><b>: </b><span>(_ : State) √ó' State ‚Üí State</span></span></div></blockquote></div></small></div>State.join</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>[]</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div>[]</div><div class="alectryon-token">
  <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
    </div><div class="alectryon-token"><span class="k">let</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="c1">-- Must remove duplicates. Alternative design: carry invariant that input state at constProp has no duplicates</span>
    </div><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div><span class="na">length</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>succ</var><b>: </b><span>Nat ‚Üí Nat</span></span></div></blockquote></div></small></div>succ</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length_erase_lt</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (erase œÉ x) &lt; Nat.succ (List.length œÉ)</span></span></div></blockquote></div></small></div>length_erase_lt</div><div class="alectryon-token"> <span class="bp">..</span>
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">then</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">join</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">join</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>none</var><b>: </b><span>{Œ± : Type ?u.141775} ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>none</div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div><span class="nv">join</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">
</div><div class="alectryon-token"><span class="k">termination_by</span></div><div class="alectryon-token"> _ œÉ‚ÇÅ _ <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kn">local</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="kd">notation</span></div><div class="alectryon-token"> <span class="s2">&quot;‚ä•&quot;</span> <span class="bp">=&gt;</span> []

<span class="bp">@</span>[</div><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div>Stmt.constProp</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token"> <span class="bp">√ó</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token"> <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>skip</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>skip</div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Expr ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="na">simplify</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>.val</var><b>: </b><span>Val ‚Üí Expr</span></span></div></blockquote></div></small></div><span class="bp">.</span>val</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">), </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">)
    <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e&#39;</span></div><div class="alectryon-token">       <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>assign</var><b>: </b><span>Var ‚Üí Expr ‚Üí Stmt</span></span></div></blockquote></div></small></div>assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e'</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
      <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>seq</var><b>: </b><span>Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>seq</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span>
    </div><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
    <span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">), (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ite</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>ite</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÅ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s‚ÇÇ'</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s‚ÇÇ&#39;</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div>join</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">)
  <span class="bp">|</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>¬´while¬ª</var><b>: </b><span>Expr ‚Üí Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div><span class="bp">¬´</span>while<span class="bp">¬ª</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>c</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">c</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>b</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">b</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div><span class="nv">constProp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>{Œ± Œ≤ : Type} ‚Üí Œ± √ó Œ≤ ‚Üí Œ±</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate</var><b>: </b><span>State ‚Üí State ‚Üí Prop</span></span></div></blockquote></div></small></div>Substate</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Prop</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div><span class="kt">Prop</span></div><div class="alectryon-token"> :=
  <span class="bp">‚àÄ</span> ‚¶É</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Var</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Var</div><div class="alectryon-token">‚¶Ñ ‚¶É</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Val</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Val</div><div class="alectryon-token">‚¶Ñ, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">infix</span></div><div class="alectryon-token">:<span class="mi">50</span> <span class="s2">&quot; ‚âº &quot;</span> <span class="bp">=&gt;</span> Substate

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">fun</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ x‚úù¬π = some x‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ x‚úù¬π = some x‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Substate.trans</div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> <span class="bp">‚Üí</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">fun</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÇ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ‚ÇÅ x = some v</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÇ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ‚ÇÅ x = some v</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><span class="k">fun</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? [] x‚úù¬π = some x‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke5"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> [] x<span class="bp">‚úù¬π</span> <span class="bp">=</span> some x<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ x<span class="bp">‚úù¬π</span> <span class="bp">=</span> some x<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke6"><div class="alectryon-token"><span class="k">contradiction</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_cons</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.erase_cons</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> ((</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke7"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ&#39; x <span class="bp">‚âº</span> (x, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke8"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chke9"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hyx : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkea"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkeb"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkec"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div><div class="alectryon-token"> <span class="bp">|-</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chked"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.cons_of_right</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí (x, v) :: œÉ' ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.cons_of_right</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkee"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x, v) :: œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkef"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? ((x, v) :: œÉ') y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf0"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hyx : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf1"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf2"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf3"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? ((x, v) :: œÉ') y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div><div class="alectryon-token"> <span class="bp">|-</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>v <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">v <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf4"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>v <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">v <span class="bp">=</span> w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf5"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf6"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf7"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf8"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.cons_of_left</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.find? œÉ x = some v ‚Üí (x, v) :: œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.cons_of_left</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>State.find? œÉ x = some v</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>find<span class="bp">?</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkf9"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x, v) :: œÉ&#39; <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfa"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? ((x, v) :: œÉ') y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfb"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hyx : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfc"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfd"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ&#39;) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkfe"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? ((x, v) :: œÉ') y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div><div class="alectryon-token"> <span class="bp">|-</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chkff"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>v <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">v <span class="bp">=</span> w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk100"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk101"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk102"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ x <span class="bp">=</span> some v</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hyx</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> x</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk103"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_self</var><b>: </b><span>‚àÄ {x : Var} (œÉ : State), State.erase œÉ x ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.erase_self</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk104"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ x <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk105"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ x <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk106"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk107"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk108"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ x <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk109"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> State.erase œÉ x <span class="k">else</span> (y, v) :: State.erase œÉ x) <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10a"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.erase œÉ x <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10b"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">(y, v) :: State.erase œÉ x <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10c"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">if</span> x <span class="bp">=</span> y <span class="k">then</span> State.erase œÉ x <span class="k">else</span> (y, v) :: State.erase œÉ x) <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10d"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.erase œÉ y <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10e"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.erase œÉ y <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk10f"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">(y, v) :: State.erase œÉ x <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk110"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase_cons</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>erase_cons</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">œÉ <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk111"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk112"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">(y, v) :: State.erase œÉ x <span class="bp">‚âº</span> (y, v) :: œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk113"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.cons_of_right</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí (x, v) :: œÉ' ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.cons_of_right</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">State.erase œÉ x <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk114"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase_self</var><b>: </b><span>‚àÄ {x : Var} (œÉ : State), State.erase œÉ x ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">erase_self</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.join_left</var><b>: </b><span>‚àÄ (_x : (_ : State) √ó' State), State.join _x.1 _x.2 ‚âº _x.1</span></span></div></blockquote></div></small></div>Substate.join_left</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div>join</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk115"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk116"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk117"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk118"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk119"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11a"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11b"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>State.erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div><span class="na">length</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>succ</var><b>: </b><span>Nat ‚Üí Nat</span></span></div></blockquote></div></small></div>succ</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.length_erase_lt</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (State.erase œÉ x) &lt; Nat.succ (List.length œÉ)</span></span></div></blockquote></div></small></div>State.length_erase_lt</div><div class="alectryon-token"> <span class="bp">..</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11c"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº State.erase œÉ‚ÇÅ x</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_left</var><b>: </b><span>‚àÄ (œÉ‚ÇÅ œÉ‚ÇÇ : State), State.join œÉ‚ÇÅ œÉ‚ÇÇ ‚âº œÉ‚ÇÅ</span></span></div></blockquote></div></small></div><span class="nv">join_left</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>State.erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11d"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_1</span></span><div class="goal-conclusion">(<span class="k">if</span> v <span class="bp">=</span> v<span class="bp">‚úù</span> <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11e"><hr><span class="goal-name">h_2</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk11f"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> y w h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_1</span></span><div class="goal-conclusion">(<span class="k">if</span> v <span class="bp">=</span> v<span class="bp">‚úù</span> <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk120" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk120"><hr><span class="goal-name">h_2</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk121"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk122" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk122"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk123"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk124"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk125"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.cons_of_right</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí (x, v) :: œÉ' ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.cons_of_right</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk126"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº State.erase œÉ‚ÇÅ x</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>trans</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase_self</var><b>: </b><span>‚àÄ {x : Var} (œÉ : State), State.erase œÉ x ‚âº œÉ</span></span></div></blockquote></div></small></div>erase_self</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk127"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk128"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Substate.trans</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº State.erase œÉ‚ÇÅ x</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_cons</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.erase_cons</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">))</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk129"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> State.erase œÉ‚ÇÅ x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_2</span></span><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> (x, v) :: œÉ‚ÇÅ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12a"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Substate.trans</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº State.erase œÉ‚ÇÅ x</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_cons</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div>Substate.erase_cons</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.refl</var><b>: </b><span>‚àÄ (œÉ : State), œÉ ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.refl</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">))</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
</div><div class="alectryon-token"><span class="k">termination_by</span></div><div class="alectryon-token"> _ œÉ‚ÇÅ _ <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.join_left_of</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí ‚àÄ (œÉ‚ÇÉ : State), State.join œÉ‚ÇÅ œÉ‚ÇÉ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Substate.join_left_of</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div>join</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> :=
  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_left</var><b>: </b><span>‚àÄ (œÉ‚ÇÅ œÉ‚ÇÇ : State), State.join œÉ‚ÇÅ œÉ‚ÇÇ ‚âº œÉ‚ÇÅ</span></span></div></blockquote></div></small></div>join_left</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div><span class="na">trans</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.join_right</var><b>: </b><span>‚àÄ (œÉ‚ÇÅ œÉ‚ÇÇ : State), State.join œÉ‚ÇÅ œÉ‚ÇÇ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Substate.join_right</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div>join</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12b"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12c"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12d"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12e"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk12f"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ, œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.join œÉ‚ÇÅ œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk130"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk131"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>State.erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div><span class="na">length</span></div><div class="alectryon-token"> <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>succ</var><b>: </b><span>Nat ‚Üí Nat</span></span></div></blockquote></div></small></div>succ</div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.length_erase_lt</var><b>: </b><span>‚àÄ (œÉ : State) (x : Var), List.length (State.erase œÉ x) &lt; Nat.succ (List.length œÉ)</span></span></div></blockquote></div></small></div>State.length_erase_lt</div><div class="alectryon-token"> <span class="bp">..</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk132"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_right</var><b>: </b><span>‚àÄ (œÉ‚ÇÅ œÉ‚ÇÇ : State), State.join œÉ‚ÇÅ œÉ‚ÇÇ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">join_right</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>State.erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">match</span> State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="k">with</span>
  <span class="bp">|</span> some w <span class="bp">=&gt;</span> <span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ
  <span class="bp">|</span> none <span class="bp">=&gt;</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span>
  œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk133"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_1</span></span><div class="goal-conclusion">(<span class="k">if</span> v <span class="bp">=</span> v<span class="bp">‚úù</span> <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk134" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk134"><hr><span class="goal-name">h_2</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk135"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> y w h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_1</span></span><div class="goal-conclusion">(<span class="k">if</span> v <span class="bp">=</span> v<span class="bp">‚úù</span> <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk136"><hr><span class="goal-name">h_2</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk137"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk138" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk138"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk139"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">if</span> v <span class="bp">=</span> w <span class="k">then</span> (x, v) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="k">else</span> State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ) <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13a"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13b"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ‚ÇÇ x <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">(x, w) :: State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13c"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.cons_of_left</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.find? œÉ x = some v ‚Üí (x, v) :: œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.cons_of_left</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>State.find? œÉ‚ÇÇ x = some w</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13d"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>List.length (State.erase œÉ‚ÇÅ x) <span class="bp">&lt;</span> Nat.succ (List.length œÉ‚ÇÅ)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h_2</span></span><div class="goal-conclusion">State.join (State.erase œÉ‚ÇÅ x) œÉ‚ÇÇ <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13e"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
</div><div class="alectryon-token"><span class="k">termination_by</span></div><div class="alectryon-token"> _ œÉ‚ÇÅ _ <span class="bp">=&gt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span>{Œ± : Type} ‚Üí List Œ± ‚Üí Nat</span></span></div></blockquote></div></small></div>length</div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.join_right_of</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí ‚àÄ (œÉ‚ÇÉ : State), State.join œÉ‚ÇÉ œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Substate.join_right_of</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>State</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join</var><b>: </b><span>State ‚Üí State ‚Üí State</span></span></div></blockquote></div></small></div>join</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> :=
  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_right</var><b>: </b><span>‚àÄ (œÉ‚ÇÅ œÉ‚ÇÇ : State), State.join œÉ‚ÇÅ œÉ‚ÇÇ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>join_right</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>trans</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ œÉ‚ÇÉ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí œÉ‚ÇÇ ‚âº œÉ‚ÇÉ ‚Üí œÉ‚ÇÅ ‚âº œÉ‚ÇÉ</span></span></div></blockquote></div></small></div><span class="na">trans</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.eq_bot</var><b>: </b><span>‚àÄ {œÉ : State}, œÉ ‚âº [] ‚Üí œÉ = []</span></span></div></blockquote></div></small></div>Substate.eq_bot</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ ‚âº []</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk13f"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ <span class="bp">‚âº</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ <span class="bp">=</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk140"><div class="alectryon-token"><span class="k">match</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token">
  <span class="bp">|</span> [] <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ <span class="bp">‚âº</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ <span class="bp">=</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk141"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk142"><div class="alectryon-token"><span class="bp">|</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ <span class="bp">‚âº</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">œÉ <span class="bp">=</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk143"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.find?</var><b>: </b><span>State ‚Üí Var ‚Üí Option Val</span></span></div></blockquote></div></small></div>State.find<span class="bp">?</span></div><div class="alectryon-token"> ((</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>some</var><b>: </b><span>{Œ± : Type} ‚Üí Œ± ‚Üí Option Œ±</span></span></div></blockquote></div></small></div>some</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> :=</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(y, v) :: œÉ <span class="bp">‚âº</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y, v) :: œÉ <span class="bp">=</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk144"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(y, v) :: œÉ <span class="bp">‚âº</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> ((y, v) :: œÉ) y <span class="bp">=</span> some v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk145"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk146"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(y, v) :: œÉ ‚âº []</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>this</var><b>: </b><span>State.find? ((y, v) :: œÉ) y = some v</span></span></div></blockquote></div></small></div><span class="k">this</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(y, v) :: œÉ <span class="bp">‚âº</span> []</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> [] y <span class="bp">=</span> some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y, v) :: œÉ <span class="bp">=</span> []</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk147"><div class="alectryon-token"><span class="k">contradiction</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_of_cons</var><b>: </b><span>‚àÄ {œÉ' : State} {x : Var} {v : Val} {œÉ : List (Var √ó Val)}, œÉ' ‚âº (x, v) :: œÉ ‚Üí State.erase œÉ' x ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.erase_of_cons</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) :: </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk148"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ&#39; x <span class="bp">‚âº</span> œÉ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk149"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14a"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hxy : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14b"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14c"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14d"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14e"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? ((x, v) :: œÉ) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº (x, v) :: œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk14f"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hxy</var><b>: </b><span>¬¨x = y</span></span></div></blockquote></div></small></div><span class="nv">hxy</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Ne.symm</var><b>: </b><span>‚àÄ {Œ± : Type} {a b : Œ±}, a ‚â† b ‚Üí b ‚â† a</span></span></div></blockquote></div></small></div>Ne.symm</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hxy</var><b>: </b><span>¬¨x = y</span></span></div></blockquote></div></small></div><span class="nv">hxy</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? ((x, v) :: œÉ) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (x, v) :: œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk150"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.erase_update</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº State.update œÉ x v</span></span></div></blockquote></div></small></div>Substate.erase_update</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk151"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.erase œÉ&#39; x <span class="bp">‚âº</span> State.update œÉ x v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk152"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk153"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hxy : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk154" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk154"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk155"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.erase œÉ&#39; x) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk156"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? (State.erase œÉ' x) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div><div class="alectryon-token"> <span class="bp">|-</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br><span><var>hf'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk157"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.update_of</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.update œÉ' x v ‚âº State.update œÉ x v</span></span></div></blockquote></div></small></div>Substate.update_of</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>update</var><b>: </b><span>State ‚Üí Var ‚Üí Val ‚Üí State</span></span></div></blockquote></div></small></div>update</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk158"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ&#39; x v <span class="bp">‚âº</span> State.update œÉ x v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk159"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>w</var><b>: </b><span>Val</span></span></div></blockquote></div></small></div><span class="nv">w</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? (State.update œÉ' x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15a"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">generalizing</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? (State.update œÉ' x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15b"><div class="alectryon-token"><span class="bp">|</span> nil  <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> []</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">nil</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15c"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> []</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">nil</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15d"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº []</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eq_bot</var><b>: </b><span>‚àÄ {œÉ : State}, œÉ ‚âº [] ‚Üí œÉ = []</span></span></div></blockquote></div></small></div>eq_bot</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> []</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">nil</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15e"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> []</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">nil</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk15f"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? (State.update œÉ' x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> []</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">nil</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update [] x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk160"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk161"><div class="alectryon-token"><span class="bp">|</span> cons zw&#39; œÉ ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>zw'</var><span class="hyp-type"><b>: </b><span>Var <span class="bp">√ó</span> Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> zw&#39; :: œÉ</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update (zw&#39; :: œÉ) x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk162"><div class="alectryon-token"><span class="k">cases</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>zw'</var><b>: </b><span>Var √ó Val</span></span></div></blockquote></div></small></div><span class="nv">zw&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>fst‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>snd‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (fst<span class="bp">‚úù</span>, snd<span class="bp">‚úù</span>) :: œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update ((fst<span class="bp">‚úù</span>, snd<span class="bp">‚úù</span>) :: œÉ) x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk163"><div class="alectryon-token"><span class="k">rename_i</span></div><div class="alectryon-token"> z w&#39;</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update ((z, w&#39;) :: œÉ) x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk164"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> z <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk165"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase</var><b>: </b><span>State ‚Üí Var ‚Üí State</span></span></div></blockquote></div></small></div>erase</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº (z, w') :: œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase_of_cons</var><b>: </b><span>‚àÄ {œÉ' : State} {x : Var} {v : Val} {œÉ : List (Var √ó Val)}, œÉ' ‚âº (x, v) :: œÉ ‚Üí State.erase œÉ' x ‚âº œÉ</span></span></div></blockquote></div></small></div>erase_of_cons</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> z <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk166"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.find? (State.update (State.erase œÉ' z) x v) y = some w ‚Üí State.find? (State.update œÉ x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ' : State}, œÉ' ‚âº œÉ ‚Üí State.find? (State.update œÉ' x v) y = some w ‚Üí State.find? (State.update œÉ x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>this</var><b>: </b><span>State.erase œÉ' z ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">this</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>hf</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> z <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk167"><div class="alectryon-token"><span class="k">revert</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.find? (State.update (State.erase œÉ' z) x v) y = some w ‚Üí State.find? (State.update œÉ x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>hf</var><b>: </b><span>State.find? (State.update œÉ' x v) y = some w</span></span></div></blockquote></div></small></div><span class="nv">hf</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> z <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk168"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> ((x, v) :: œÉ) y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk169" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk169"><hr><span class="goal-name">cons.mk.inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> ((z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16a"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (<span class="k">if</span> x <span class="bp">=</span> z <span class="k">then</span> (x, v) :: œÉ <span class="k">else</span> (z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16b"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; z v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) z v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ z v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    (<span class="k">if</span> y <span class="bp">=</span> z <span class="k">then</span> some v <span class="k">else</span> State.find<span class="bp">?</span> œÉ y) <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16c"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> ((z, w&#39;) :: State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16d"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hyz : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>z</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">z</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr.inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    (<span class="k">if</span> y <span class="bp">=</span> z <span class="k">then</span> some w&#39; <span class="k">else</span> State.find<span class="bp">?</span> (State.update œÉ x v) y) <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16e"><hr><span class="goal-name">cons.mk.inr.inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    (<span class="k">if</span> y <span class="bp">=</span> z <span class="k">then</span> some w&#39; <span class="k">else</span> State.find<span class="bp">?</span> (State.update œÉ x v) y) <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk16f"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    (<span class="k">if</span> y <span class="bp">=</span> z <span class="k">then</span> some w&#39; <span class="k">else</span> State.find<span class="bp">?</span> (State.update œÉ x v) y) <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk170"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><span class="k">config</span></div><div class="alectryon-token"> := { contextual := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>true</var><b>: </b><span>Bool</span></span></div></blockquote></div></small></div><span class="k">true</span></div><div class="alectryon-token"> }) [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr.inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ&#39; z <span class="bp">=</span> some w <span class="bp">‚Üí</span> w&#39; <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk171"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr.inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ&#39; z <span class="bp">=</span> some w <span class="bp">‚Üí</span> w&#39; <span class="bp">=</span> w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk172" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk172"><hr><span class="goal-name">cons.mk.inr.inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk173"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he'</var><b>: </b><span>State.find? œÉ' z = some w</span></span></div></blockquote></div></small></div><span class="nv">he&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>he'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; z <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w&#39; <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk174"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he</var><b>: </b><span>State.find? ((z, w') :: œÉ) z = some w</span></span></div></blockquote></div></small></div><span class="nv">he</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº (z, w') :: œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he'</var><b>: </b><span>State.find? œÉ' z = some w</span></span></div></blockquote></div></small></div><span class="nv">he&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>he'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; z <span class="bp">=</span> some w</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> ((z, w&#39;) :: œÉ) z <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w&#39; <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk175"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he</var><b>: </b><span>State.find? ((z, w') :: œÉ) z = some w</span></span></div></blockquote></div></small></div><span class="nv">he</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>he'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; z <span class="bp">=</span> some w</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>w&#39; <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w&#39; <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk176"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk177"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">cons.mk.inr.inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk178"><div class="alectryon-token"><span class="k">by_cases</span></div><div class="alectryon-token"> hxy : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>x</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">x</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>y</var><b>: </b><span>Var</span></span></div></blockquote></div></small></div><span class="nv">y</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk179" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk179"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17a"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span>
  (State.find<span class="bp">?</span> (State.update (State.erase œÉ&#39; z) x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w) <span class="bp">‚Üí</span>
    State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17b"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> (State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w) <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17c"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">v <span class="bp">=</span> w <span class="bp">‚Üí</span> (v <span class="bp">=</span> w <span class="bp">‚Üí</span> v <span class="bp">=</span> w) <span class="bp">‚Üí</span> v <span class="bp">=</span> w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17d"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> (State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w) <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17e"><div class="alectryon-token"><span class="k">intros</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk17f"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk180"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ&#39; : State}, œÉ&#39; <span class="bp">‚âº</span> œÉ <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ&#39; x v) y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> (State.update œÉ x v) y <span class="bp">=</span> some w</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> (State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w) <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
        </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk181"><div class="alectryon-token"><span class="k">intro</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">he&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.find? œÉ' y = some w ‚Üí State.find? œÉ y = some w</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>List (Var <span class="bp">√ó</span> Val)</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> (z, w&#39;) :: œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>State.erase œÉ&#39; z <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>hyz</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>y <span class="bp">=</span> z</span></span></span><br><span><var>hxy</var><span class="hyp-type"><b>: </b><span><span class="bp">¬¨</span>x <span class="bp">=</span> y</span></span></span><br><span><var>he'</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w</span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; y <span class="bp">=</span> some w <span class="bp">‚Üí</span> State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.find<span class="bp">?</span> œÉ y <span class="bp">=</span> some w</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
        </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk182"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>State.find? œÉ' y = some w ‚Üí State.find? œÉ y = some w</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he'</var><b>: </b><span>State.find? œÉ' y = some w</span></span></div></blockquote></div></small></div><span class="nv">he&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp_of_sub</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} (e : Expr), œÉ' ‚âº œÉ ‚Üí eval œÉ (constProp e œÉ') = eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_constProp_of_sub</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk183"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk184"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> eval œÉ e</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk185"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> State.find<span class="bp">?</span> œÉ&#39; x <span class="k">with</span>
    <span class="bp">|</span> some v <span class="bp">=&gt;</span> val v
    <span class="bp">|</span> none <span class="bp">=&gt;</span> var x) <span class="bp">=</span>
  some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk186"><div class="alectryon-token"><span class="bp">|</span> var x <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> State.find<span class="bp">?</span> œÉ&#39; x <span class="k">with</span>
    <span class="bp">|</span> some v <span class="bp">=&gt;</span> val v
    <span class="bp">|</span> none <span class="bp">=&gt;</span> var x) <span class="bp">=</span>
  some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk187"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_1</span></span><div class="goal-conclusion">eval œÉ (val v<span class="bp">‚úù</span>) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk188" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk188"><hr><span class="goal-name">var.h_2</span></label><div class="goal-conclusion">eval œÉ (var x) <span class="bp">=</span> some (State.get œÉ x)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk189"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var</span></span><div class="goal-conclusion">eval œÉ
    (<span class="k">match</span> State.find<span class="bp">?</span> œÉ&#39; x <span class="k">with</span>
    <span class="bp">|</span> some v <span class="bp">=&gt;</span> val v
    <span class="bp">|</span> none <span class="bp">=&gt;</span> var x) <span class="bp">=</span>
  some (State.get œÉ x)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18a"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_1</span></span><div class="goal-conclusion">v<span class="bp">‚úù</span> <span class="bp">=</span> State.get œÉ x</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18b"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> he <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">var.h_1</span></span><div class="goal-conclusion">v<span class="bp">‚úù</span> <span class="bp">=</span> State.get œÉ x</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18c"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; x <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v<span class="bp">‚úù</span> <span class="bp">=</span> State.get œÉ x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18d"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>State.get_of_find?</var><b>: </b><span>‚àÄ {x : Var} {v : Val} {œÉ : State}, State.find? œÉ x = some v ‚Üí State.get œÉ x = v</span></span></div></blockquote></div></small></div>State.get_of_find<span class="bp">?</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he</var><b>: </b><span>State.find? œÉ' x = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">he</span></div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ', œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>State.find<span class="bp">?</span> œÉ&#39; x <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18e"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr}, eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí eval œÉ (constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> {</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Expr</div><div class="alectryon-token">} (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>eval œÉ e = v</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div>eval</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Option Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Expr ‚Üí State ‚Üí Expr</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span>State ‚Üí Expr ‚Üí Option Val</span></span></div></blockquote></div></small></div><span class="na">eval</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token"> <span class="bp">=</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span>Option Val</span></span></div></blockquote></div></small></div><span class="nv">v</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk18f"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>eval œÉ e <span class="bp">=</span> v</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk190"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval_constProp_of_sub</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} (e : Expr), œÉ' ‚âº œÉ ‚Üí eval œÉ (constProp e œÉ') = eval œÉ e</span></span></div></blockquote></div></small></div>eval_constProp_of_sub</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="nv">e</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ' ‚âº œÉ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>eval œÉ e <span class="bp">=</span> v</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> eval œÉ e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk191"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>eval œÉ e = v</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>this</var><b>: </b><span>eval œÉ (constProp e œÉ') = eval œÉ e</span></span></div></blockquote></div></small></div><span class="nv">this</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Option Val</span></span></span><br><span><var>œÉ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>eval œÉ e <span class="bp">=</span> v</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ&#39; <span class="bp">‚âº</span> œÉ</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eval œÉ (constProp e œÉ&#39;) <span class="bp">=</span> v</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk192"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.constProp_sub</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s : Stmt} {œÉ‚ÇÇ œÉ‚ÇÅ' : State}, (œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ ‚Üí (constProp s œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Stmt.constProp_sub</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>2</var><b>: </b><span>{Œ± Œ≤ : Type} ‚Üí Œ± √ó Œ≤ ‚Üí Œ≤</span></span></div></blockquote></div></small></div><span class="mi">2</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk193"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(constProp s œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk194"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">generalizing</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(constProp s œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk195"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk196"><div class="alectryon-token"><span class="bp">|</span> skip <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk197"><div class="alectryon-token"><span class="k">assumption</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk198"><div class="alectryon-token"><span class="bp">|</span> assign heq <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign</span></span><div class="goal-conclusion">(<span class="k">match</span> Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="k">with</span>
    <span class="bp">|</span> Expr.val v <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= Expr.val v, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span> v)
    <span class="bp">|</span> e&#39; <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= e&#39;, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span>))<span class="bp">.</span>snd <span class="bp">‚âº</span>
  State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk199"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">(x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span>)<span class="bp">.</span>snd <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19a"><hr><span class="goal-name">assign.h_2</span></label><div class="goal-conclusion">(x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬≥</span>)<span class="bp">.</span>snd <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19b"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign</span></span><div class="goal-conclusion">(<span class="k">match</span> Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="k">with</span>
    <span class="bp">|</span> Expr.val v <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= Expr.val v, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span> v)
    <span class="bp">|</span> e&#39; <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= e&#39;, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span>))<span class="bp">.</span>snd <span class="bp">‚âº</span>
  State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19c"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19d"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h‚úù</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19e"><hr><span class="goal-name">assign.h_2</span></label><div class="goal-conclusion">State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬≥</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk19f"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr},
  Expr.eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí Expr.eval œÉ (Expr.constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚úù e‚úù = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a0"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a1"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div><div class="alectryon-token">,</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a2"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify (Expr.constProp e‚úù œÉ‚ÇÅ') = Expr.val v‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a3"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a4"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a5"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.val v‚úù) = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a6"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a7"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>v‚úù = v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a8"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1a9"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.update_of</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.update œÉ' x v ‚âº State.update œÉ x v</span></span></div></blockquote></div></small></div>Substate.update_of</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1aa"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h _ _ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h‚úù</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_2</span></span><div class="goal-conclusion">State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬≥</span> <span class="bp">‚âº</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ab"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>erase_update</var><b>: </b><span>‚àÄ {œÉ' œÉ : State} {x : Var} {v : Val}, œÉ' ‚âº œÉ ‚Üí State.erase œÉ' x ‚âº State.update œÉ x v</span></span></div></blockquote></div></small></div>erase_update</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ac"><div class="alectryon-token"><span class="bp">|</span> whileTrue heq h‚ÇÉ h‚ÇÑ ih‚ÇÉ ih‚ÇÑ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÉ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÑ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp (while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ad"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÉ</var><b>: </b><span>(constProp b‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÉ</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÉ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (constProp b‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÑ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp (while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ae"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÑ</var><b>: </b><span>(constProp (while c‚úù b‚úù) (constProp b‚úù œÉ‚ÇÅ').snd).snd ‚âº œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÑ</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÑ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÇ‚úù ‚Üí (constProp (while c‚úù b‚úù) œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÑ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÉ</var><b>: </b><span>(constProp b‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÉ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(constProp (while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) (constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1af"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>evalTrue c‚úù œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token">] </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÑ</var><b>: </b><span>(constProp (while c‚úù b‚úù) (constProp b‚úù œÉ‚ÇÅ').snd).snd ‚âº œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÑ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÑ</var><span class="hyp-type"><b>: </b><span>[] <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b0"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÑ</var><b>: </b><span>[] ‚âº œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÑ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b1"><div class="alectryon-token"><span class="bp">|</span> whileFalse heq <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse</span></span><div class="goal-conclusion">[] <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b2"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b3"><div class="alectryon-token"><span class="bp">|</span> ifTrue heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">State.join (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b4"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(constProp t‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (constProp t‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalTrue c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">State.join (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b5"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(constProp t‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_left_of</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí ‚àÄ (œÉ‚ÇÉ : State), State.join œÉ‚ÇÅ œÉ‚ÇÉ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>join_left_of</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b6"><div class="alectryon-token"><span class="bp">|</span> ifFalse heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">State.join (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b7"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(constProp e‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (constProp e‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>evalFalse c<span class="bp">‚úù</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span>(constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">State.join (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span> <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b8"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>(constProp e‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>join_right_of</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ œÉ‚ÇÇ : State}, œÉ‚ÇÅ ‚âº œÉ‚ÇÇ ‚Üí ‚àÄ (œÉ‚ÇÉ : State), State.join œÉ‚ÇÉ œÉ‚ÇÅ ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>join_right_of</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1b9"><div class="alectryon-token"><span class="bp">|</span> seq h‚ÇÉ h‚ÇÑ ih‚ÇÉ ih‚ÇÑ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÑ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, s‚ÇÇ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÉ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp s‚ÇÅ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÑ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (constProp s‚ÇÇ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>snd <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">seq</span></span><div class="goal-conclusion">(constProp s‚ÇÇ<span class="bp">‚úù</span> (constProp s‚ÇÅ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span>)<span class="bp">.</span><span class="mi">2</span> <span class="bp">‚âº</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ba"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÑ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÇ‚úù ‚Üí (constProp s‚ÇÇ‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÑ</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÉ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (constProp s‚ÇÅ‚úù œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÉ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.constProp_correct</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s : Stmt} {œÉ‚ÇÇ œÉ‚ÇÅ' : State}, (œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, (constProp s œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Stmt.constProp_correct</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> <span class="bp">‚âº</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ</span></div><div class="alectryon-token">, (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>{Œ± Œ≤ : Type} ‚Üí Œ± √ó Œ≤ ‚Üí Œ±</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÇ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÇ</span></div><div class="alectryon-token"> := </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bb"><div class="alectryon-token"><span class="kd">by</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ, (constProp s œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bc"><div class="alectryon-token"><span class="k">induction</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">generalizing</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ‚ÇÅ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ‚ÇÅ&#39;</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">with</span></div><div class="alectryon-token"></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ, s) <span class="bp">‚áì</span> œÉ‚ÇÇ</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ‚ÇÅ, (constProp s œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ</div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bd"><div class="alectryon-token"><span class="k">simp_all</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1be"><div class="alectryon-token"><span class="bp">|</span> skip <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">skip</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, skip) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1bf"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.skip</var><b>: </b><span>‚àÄ {œÉ : State}, (œÉ, skip) ‚áì œÉ</span></span></div></blockquote></div></small></div>Bigstep.skip</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c0"><div class="alectryon-token"><span class="bp">|</span> assign heq <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>,
  (<span class="k">match</span> Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="k">with</span>
    <span class="bp">|</span> Expr.val v <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= Expr.val v, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span> v)
    <span class="bp">|</span> e&#39; <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= e&#39;, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span>))<span class="bp">.</span>fst) <span class="bp">‚áì</span>
  State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c1"><div class="alectryon-token"><span class="k">split</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, (x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù</span>)<span class="bp">.</span>fst) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c2"><hr><span class="goal-name">assign.h_2</span></label><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, (x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù¬≥</span>)<span class="bp">.</span>fst) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c3"><div class="alectryon-token"><span class="k">&lt;;&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>,
  (<span class="k">match</span> Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="k">with</span>
    <span class="bp">|</span> Expr.val v <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= Expr.val v, State.update œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span> v)
    <span class="bp">|</span> e&#39; <span class="bp">=&gt;</span> (x<span class="bp">‚úù</span> ::= e&#39;, State.erase œÉ‚ÇÅ&#39; x<span class="bp">‚úù</span>))<span class="bp">.</span>fst) <span class="bp">‚áì</span>
  State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c4"><div class="alectryon-token"><span class="k">simp</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c5"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_1</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><label class="goal-separator" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c6"><hr><span class="goal-name">assign.h_2</span></label><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c7"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr},
  Expr.eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí Expr.eval œÉ (Expr.constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚úù e‚úù = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c8"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1c9"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div><div class="alectryon-token">,</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ca"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify (Expr.constProp e‚úù œÉ‚ÇÅ') = Expr.val v‚úù</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cb"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cc"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cd"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.val v‚úù) = some v‚úù¬π</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬π</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬π</span> ::= Expr.val v<span class="bp">‚úù</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬π</span> v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1ce"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.assign</var><b>: </b><span>‚àÄ {v : Val} {œÉ : State} {x : Var} {e : Expr}, Expr.eval œÉ e = some v ‚Üí (œÉ, x ::= e) ‚áì State.update œÉ x v</span></span></div></blockquote></div></small></div>Bigstep.assign</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù¬π</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> Expr.val v<span class="bp">‚úù</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>v<span class="bp">‚úù</span> <span class="bp">=</span> v<span class="bp">‚úù¬π</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">Expr.eval œÉ<span class="bp">‚úù</span> (Expr.val v<span class="bp">‚úù</span>) <span class="bp">=</span> some v<span class="bp">‚úù¬π</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"><span class="bp">;</span></div><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1cf"><div class="alectryon-token"><span class="k">simp</span></div><div class="alectryon-token"> [<span class="bp">*</span>]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d0"><div class="alectryon-token"><span class="k">next</span></div><div class="alectryon-token"> h _ _ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">assign.h_2</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d1"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr},
  Expr.eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí Expr.eval œÉ (Expr.constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚úù e‚úù = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d2"><div class="alectryon-token"><span class="k">rw</span></div><div class="alectryon-token"> [</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d3"><div class="alectryon-token"><span class="bp">‚Üê</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_simplify</var><b>: </b><span>‚àÄ {œÉ : State} (e : Expr), Expr.eval œÉ (Expr.simplify e) = Expr.eval œÉ e</span></span></div></blockquote></div></small></div>Expr.eval_simplify</div><div class="alectryon-token">,</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> (Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)) <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d4"><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>Expr.simplify (Expr.constProp e‚úù œÉ‚ÇÅ') = x‚úù¬≤</span></span></div></blockquote></div></small></div><span class="nv">h</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d5"><div class="alectryon-token">]</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"></div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d6"><div class="alectryon-token"><span class="k">at</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù (Expr.constProp e‚úù œÉ‚ÇÅ') = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>v‚úù</var><span class="hyp-type"><b>: </b><span>Val</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>x‚úù¬≥</var><span class="hyp-type"><b>: </b><span>Var</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> e<span class="bp">‚úù</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br><span><var>x‚úù¬≤</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Expr.simplify (Expr.constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) <span class="bp">=</span> x<span class="bp">‚úù¬≤</span></span></span></span><br><span><var>heq'</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≤</span> <span class="bp">=</span> some v<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, x<span class="bp">‚úù¬≥</span> ::= x<span class="bp">‚úù¬≤</span>) <span class="bp">‚áì</span> State.update œÉ<span class="bp">‚úù</span> x<span class="bp">‚úù¬≥</span> v<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
      </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d7"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.assign</var><b>: </b><span>‚àÄ {v : Val} {œÉ : State} {x : Var} {e : Expr}, Expr.eval œÉ e = some v ‚Üí (œÉ, x ::= e) ‚áì State.update œÉ x v</span></span></div></blockquote></div></small></div>Bigstep.assign</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq'</var><b>: </b><span>Expr.eval œÉ‚úù x‚úù¬≤ = some v‚úù</span></span></div></blockquote></div></small></div><span class="nv">heq&#39;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d8"><div class="alectryon-token"><span class="bp">|</span> seq h‚ÇÅ h‚ÇÇ ih‚ÇÅ ih‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ, œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, s‚ÇÅ<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp s‚ÇÅ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÇ<span class="bp">‚úù</span>, (constProp s‚ÇÇ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">seq</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp s‚ÇÅ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">1</span><span class="bp">;;</span> (constProp s‚ÇÇ<span class="bp">‚úù</span> (constProp s‚ÇÅ<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">2</span>)<span class="bp">.</span><span class="mi">1</span>) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1d9"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.seq</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s‚ÇÅ : Stmt} {œÉ‚ÇÇ : State} {s‚ÇÇ : Stmt} {œÉ‚ÇÉ : State}, (œÉ‚ÇÅ, s‚ÇÅ) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÇ, s‚ÇÇ) ‚áì œÉ‚ÇÉ ‚Üí (œÉ‚ÇÅ, s‚ÇÅ;; s‚ÇÇ) ‚áì œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Bigstep.seq</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (œÉ‚ÇÅ‚úù, (constProp s‚ÇÅ‚úù œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÇ‚úù ‚Üí (œÉ‚ÇÇ‚úù, (constProp s‚ÇÇ‚úù œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp_sub</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s : Stmt} {œÉ‚ÇÇ œÉ‚ÇÅ' : State}, (œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ ‚Üí (constProp s œÉ‚ÇÅ').snd ‚âº œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>constProp_sub</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, s‚ÇÅ‚úù) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">))</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1da"><div class="alectryon-token"><span class="bp">|</span> whileTrue heq h‚ÇÅ h‚ÇÇ ih‚ÇÅ ih‚ÇÇ <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp b<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1db"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, (constProp b‚úù []).fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (œÉ‚ÇÅ‚úù, (constProp b‚úù œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÇ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1dc"><div class="alectryon-token"><span class="k">have</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, while c‚úù (constProp b‚úù []).fst) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div><div class="alectryon-token"> := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÇ‚úù ‚Üí (œÉ‚ÇÇ‚úù, while c‚úù (constProp b‚úù []).fst) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù, œÉ‚ÇÉ‚úù, œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, b<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÅ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih‚ÇÇ</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÇ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1dd"><div class="alectryon-token"><span class="k">exact</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.whileTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {b : Stmt} {œÉ‚ÇÇ œÉ‚ÇÉ : State},
  evalTrue c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, b) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÇ, while c b) ‚áì œÉ‚ÇÉ ‚Üí (œÉ‚ÇÅ, while c b) ‚áì œÉ‚ÇÉ</span></span></div></blockquote></div></small></div>Bigstep.whileTrue</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÅ</var><b>: </b><span>(œÉ‚ÇÅ‚úù, (constProp b‚úù []).fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÅ</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih‚ÇÇ</var><b>: </b><span>(œÉ‚ÇÇ‚úù, while c‚úù (constProp b‚úù []).fst) ‚áì œÉ‚ÇÉ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih‚ÇÇ</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1de"><div class="alectryon-token"><span class="bp">|</span> whileFalse heq <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>b‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">whileFalse</span></span><div class="goal-conclusion">(œÉ<span class="bp">‚úù</span>, while c<span class="bp">‚úù</span> (constProp b<span class="bp">‚úù</span> [])<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1df"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.whileFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ : State} {b : Stmt}, evalFalse c œÉ ‚Üí (œÉ, while c b) ‚áì œÉ</span></span></div></blockquote></div></small></div>Bigstep.whileFalse</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚úù c‚úù = some (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e0"><div class="alectryon-token"><span class="bp">|</span> ifTrue heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool true)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, t<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifTrue</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite (Expr.constProp c<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">1</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">1</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e1"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.ifTrue</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {t : Stmt} {œÉ‚ÇÇ : State} {e : Stmt}, evalTrue c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, t) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÅ, ite c t e) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Bigstep.ifTrue</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr},
  Expr.eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí Expr.eval œÉ (Expr.constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool true)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (œÉ‚ÇÅ‚úù, (constProp t‚úù œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
  </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e2"><div class="alectryon-token"><span class="bp">|</span> ifFalse heq h ih <span class="bp">=&gt;</span></div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ‚ÇÅ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>c‚úù</var><span class="hyp-type"><b>: </b><span>Expr</span></span></span><br><span><var>œÉ‚ÇÅ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>e‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÇ‚úù</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>t‚úù</var><span class="hyp-type"><b>: </b><span>Stmt</span></span></span><br><span><var>œÉ‚ÇÅ'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>heq</var><span class="hyp-type"><b>: </b><span>Expr.eval œÉ‚ÇÅ<span class="bp">‚úù</span> c<span class="bp">‚úù</span> <span class="bp">=</span> some (Val.bool false)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(œÉ‚ÇÅ<span class="bp">‚úù</span>, e<span class="bp">‚úù</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>ih</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> {œÉ‚ÇÅ&#39; : State}, œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span> <span class="bp">‚Üí</span> (œÉ‚ÇÅ<span class="bp">‚úù</span>, (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span>fst) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>œÉ‚ÇÅ&#39; <span class="bp">‚âº</span> œÉ‚ÇÅ<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">ifFalse</span></span><div class="goal-conclusion">(œÉ‚ÇÅ<span class="bp">‚úù</span>, ite (Expr.constProp c<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;) (constProp t<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">1</span> (constProp e<span class="bp">‚úù</span> œÉ‚ÇÅ&#39;)<span class="bp">.</span><span class="mi">1</span>) <span class="bp">‚áì</span> œÉ‚ÇÇ<span class="bp">‚úù</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">
    </div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e3"><div class="alectryon-token"><span class="k">apply</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Bigstep.ifFalse</var><b>: </b><span>‚àÄ {c : Expr} {œÉ‚ÇÅ : State} {e : Stmt} {œÉ‚ÇÇ : State} {t : Stmt}, evalFalse c œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, e) ‚áì œÉ‚ÇÇ ‚Üí (œÉ‚ÇÅ, ite c t e) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>Bigstep.ifFalse</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr.eval_constProp'</var><b>: </b><span>‚àÄ {œÉ : State} {v : Option Val} {œÉ' : State} {e : Expr},
  Expr.eval œÉ e = v ‚Üí œÉ' ‚âº œÉ ‚Üí Expr.eval œÉ (Expr.constProp e œÉ') = v</span></span></div></blockquote></div></small></div>Expr.eval_constProp&#39;</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>heq</var><b>: </b><span>Expr.eval œÉ‚ÇÅ‚úù c‚úù = some (Val.bool false)</span></span></div></blockquote></div></small></div><span class="nv">heq</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">) (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ' : State}, œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù ‚Üí (œÉ‚ÇÅ‚úù, (constProp e‚úù œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ‚úù</span></span></div></blockquote></div></small></div><span class="nv">ih</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h‚ÇÇ</var><b>: </b><span>œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ‚úù</span></span></div></blockquote></div></small></div><span class="nv">h‚ÇÇ</span></div><div class="alectryon-token">)</div></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.constPropagation</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>Stmt.constPropagation</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"> : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token">) : </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt</var><b>: </b><span>Type</span></span></div></blockquote></div></small></div>Stmt</div><div class="alectryon-token"> :=
  (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp</var><b>: </b><span>Stmt ‚Üí State ‚Üí Stmt √ó State</span></span></div></blockquote></div></small></div>constProp</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚ä•</var><b>: </b><span>List (Var √ó Val)</span></span></div></blockquote></div></small></div><span class="bp">‚ä•</span></div><div class="alectryon-token">)<span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>{Œ± Œ≤ : Type} ‚Üí Œ± √ó Œ≤ ‚Üí Œ±</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token">

</div><div class="alectryon-token"><span class="kd">theorem</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Stmt.constPropagation_correct</var><b>: </b><span>‚àÄ {œÉ : State} {s : Stmt} {œÉ' : State}, (œÉ, s) ‚áì œÉ' ‚Üí (œÉ, constPropagation s) ‚áì œÉ'</span></span></div></blockquote></div></small></div>Stmt.constPropagation_correct</div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ, s) ‚áì œÉ'</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token">) : (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ</span></div><div class="alectryon-token">, </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>s</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div><span class="nv">s</span></div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constPropagation</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>constPropagation</div><div class="alectryon-token">) <span class="bp">‚áì</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>œÉ'</var><b>: </b><span>State</span></span></div></blockquote></div></small></div><span class="nv">œÉ&#39;</span></div><div class="alectryon-token"> :=
  </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constProp_correct</var><b>: </b><span>‚àÄ {œÉ‚ÇÅ : State} {s : Stmt} {œÉ‚ÇÇ œÉ‚ÇÅ' : State}, (œÉ‚ÇÅ, s) ‚áì œÉ‚ÇÇ ‚Üí œÉ‚ÇÅ' ‚âº œÉ‚ÇÅ ‚Üí (œÉ‚ÇÅ, (constProp s œÉ‚ÇÅ').fst) ‚áì œÉ‚ÇÇ</span></span></div></blockquote></div></small></div>constProp_correct</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span>(œÉ, s) ‚áì œÉ'</span></span></div></blockquote></div></small></div><span class="nv">h</span></div><div class="alectryon-token"> (</div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Substate.bot</var><b>: </b><span>‚àÄ (œÉ : State), [] ‚âº œÉ</span></span></div></blockquote></div></small></div>Substate.bot</div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>_</var><b>: </b><span>State</span></span></div></blockquote></div></small></div>_</div><div class="alectryon-token">)

</div><div class="alectryon-token"><span class="kd">def</span></div><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example4</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example4</div><div class="alectryon-token"> := <span class="bp">`</span>[Stmt<span class="bp">|</span>
  x := </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>2</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">2</span></div><div class="alectryon-token"><span class="bp">;</span>
  </div><div class="alectryon-token"><span class="k">if</span></div><div class="alectryon-token"> (x <span class="bp">&lt;</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token">) {
    x := x <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">1</span></div><div class="alectryon-token"><span class="bp">;</span>
    y := y <span class="bp">+</span> x<span class="bp">;</span>
  } </div><div class="alectryon-token"><span class="k">else</span></div><div class="alectryon-token"> {
    y := y <span class="bp">+</span> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>3</var><b>: </b><span>Expr</span></span></div></blockquote></div></small></div><span class="mi">3</span></div><div class="alectryon-token"><span class="bp">;</span>
  }
]

</div></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="vc8fhr9r6ffcw8n086r918ydgpz6cfxw-while-lean-chk1e4"><div class="alectryon-token"><span class="k">#eval</span></div></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Stmt.seq
  (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.val (Val.int <span class="mi">2</span>)))
  (Stmt.seq
    (Stmt.assign <span class="s2">&quot;x&quot;</span> (Expr.val (Val.int <span class="mi">3</span>)))
    (Stmt.assign <span class="s2">&quot;y&quot;</span> (Expr.bin (Expr.var <span class="s2">&quot;y&quot;</span>) (BinOp.add) (Expr.val (Val.int <span class="mi">3</span>)))))
</blockquote></div></div></small></span><span class="alectryon-wsp"><div class="alectryon-token"> </div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>example4</var><b>: </b><span>Stmt</span></span></div></blockquote></div></small></div>example4</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>constPropagation</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>constPropagation</div><div class="alectryon-token"><span class="bp">.</span></div><div class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simplify</var><b>: </b><span>Stmt ‚Üí Stmt</span></span></div></blockquote></div></small></div>simplify</div><div class="alectryon-token">

<span class="k">#exit</span>
<span class="c1">-- TODO: add simp theorems for monadic code</span>
<span class="kd">theorem</span> Stmt.eval_correct {s : Stmt} (h : (s.eval fuel)<span class="bp">.</span>run œÉ <span class="bp">=</span> (<span class="bp">.</span>ok unit, œÉ&#39;)) : (œÉ, s) <span class="bp">‚áì</span> œÉ&#39; := <span class="kd">by</span>
  induction fuel generalizing s œÉ œÉ&#39; <span class="k">with</span> simp at h
  <span class="bp">|</span> zero <span class="bp">=&gt;</span> injection h<span class="bp">;</span> contradiction
  <span class="bp">|</span> succ fuel ih <span class="bp">=&gt;</span>
    split at h
    next <span class="bp">=&gt;</span> injection h <span class="k">with</span> _ h<span class="bp">;</span> rw [h]<span class="bp">;</span> exact Bigstep.skip
    next <span class="bp">=&gt;</span> done</div></span></pre>
</div>
</div></body>
</html>
